## Hooks

### 01. Hooks API ì†Œê°œ

---

ìš”ì¦˜ì€ `class component` ë¥¼ ì˜ ì‚¬ìš©í•˜ì§€ ì•Šê³ , ê²ªì–´ë³´ì§€ ì•Šì€ ê²½ìš°ë„ ìˆì„ê²ƒì´ë‹¤. í•„ìš”ì—ë”°ë¼ `class component` ë¡œ ì‘ì„±ì„ í•´ì•¼í•  ìˆ˜ë„ ìˆê³  ê¸°ì¡´ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼í• ë•Œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.

ì¼ë‹¨ `HOC` ë¥¼ ë³´ì

### ğŸ“Œ HOC

`ì»´í¬ë„ŒíŠ¸ ë¡œì§ì„ ì¬ì‚¬ìš©` í•˜ê¸° ìœ„í•œ `React` ì˜ ê¸°ìˆ ì´ë‹¤. `ê³ ì°¨ ì»´í¬ë„ŒíŠ¸ (HOC)` ëŠ” ì—„ë°€íˆ React APIì˜ ì¼ë¶€ê°€ ì•„ë‹ˆë©°, Reactì˜ `êµ¬ì„±ì  íŠ¹ì„±` ì—ì„œ ë‚˜ì˜¤ëŠ” íŒ¨í„´ì´ë‹¤.

```jsx
// ex
const EnhancedComponent = higherOrderComponent(WrapperComponent);

// ì‚¬ìš© ì˜ˆ
export default connect(mapStateToProps, mapDispatchToProps)(TodoApp);
```

ì‚¬ìš© ì˜ˆë¥¼ ë³´ë©´ `TodoApp` ì•±ì— `redux` ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ `connect` í•˜ê³  `TodoApp` ì˜ propsì— `state` ë¥¼ ë„£ì–´ì£¼ê³  ì´ ìƒíƒœë¥¼ ë°”ê¿€ ìˆ˜ ìˆëŠ” `dispatch` ë¥¼ ë„£ì–´ì¤€ë‹¤.

âœ… ì¦‰, `higherOrderComponent` ë¼ëŠ” í•¨ìˆ˜ì— ë‚´ê°€ ë§Œë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë„£ìœ¼ë©´ ì¢€ ë” ì—…ê·¸ë ˆì´ë“œëœ ì»´í¬ë„ŒíŠ¸ê°€ ëœë‹¤.

#### HOCì˜ êµ¬ì„±

```jsx
class BlogPost extends React.Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.state = {
      blogPost: DataSource.getBlogPost(props.id);
    }
  }

  // S ::: ì¬ì‚¬ìš© ë  ë¶€ë¶„ ::: S
  componentDidMount() {
    // ë³€í™” ê°ì§€ë¥¼ ìœ„í•´ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
    DataSource.addChangeListener(this.handleChange);
  }

  componentWillUnmount() {
    // ë¦¬ìŠ¤ë„ˆë¥¼ ì œê±°
    DataSource.removeChangeListener(this.handleChange);
  }

  handleChange() {
    // ë°ì´í„° ì†ŒìŠ¤ê°€ ë³€ê²½ë  ë•Œë§ˆë‹¤ blogPostë¥¼ ì—…ë°ì´íŠ¸ í•œë‹¤.
    this.setState({
      blogPost: DataSource.getBlogPost(this.props.id);
    })
  }
  // E ::: ì¬ì‚¬ìš© ë  ë¶€ë¶„ ::: E
}
```

ì´ëŸ° `class component` ê°€ ìˆë‹¤ê³  ê°€ì •í•  ë•Œ ì˜ˆë¡œ ë‹¤ë¥¸ `CommentList` ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œë„ ì¬ì‚¬ìš© ë˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œê°€ ê±°ì˜ ì¤‘ë³µë˜ì–´ ë‹¤ì‹œ ì‘ì„±ë˜ëŠ” ê²½ìš°ê°€ ìˆì„ ê²ƒì´ë‹¤.

ì´ëŸ° ê²½ìš°ì— `HOC` ë¡œ ë¹¼ê²Œ ë˜ë©´ `ì¬í™œìš©` í•  ìˆ˜ ìˆëŠ” íŒ¨í„´ì„ ë³¼ ìˆ˜ ìˆë‹¤.

#### Render Props

ì´ëŸ° ê²½ìš°ëŠ” `render props` ë¼ê³ í•´ì„œ ì»´í¬ë„ŒíŠ¸ê°„ë° ì½”ë“œë¥¼ ê³µìœ í•˜ê¸° ìœ„í•´ `render` ë¼ëŠ” propsë¥¼ ë§Œë“œëŠ” í…Œí¬ë‹‰ì´ë‹¤.

êµ¬í˜„ëœ ì»´í¬ë„ŒíŠ¸ëŠ” ìì²´ì ìœ¼ë¡œ ë Œë”ë§ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ëŒ€ì‹ , React ì—˜ë¦¬ë¨¼íŠ¸ ìš”ì†Œë¥¼ ë°˜í™˜í•˜ê³  ì´ë¥¼ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤

```jsx
<DataProvider render={(data) => <h1>Hello {data.target}</h1>} />
```

### â—ï¸ ë˜ ë‹¤ë¥¸ ë¬¸ì œ

```jsx
class ClassComponent extends React.Component {
  render() {
    return <div>{this.props.name}</div>;
  }
}

// vs
const statelessComponent = (props) => <div>{props.name}</div>;
```

ë˜ ì´ëŸ° ë¬¸ì œë„ ìˆì—ˆë‹¤. classComponentë¥¼ ê°œë°œí•˜ëŠ”ë° `React.Component` ë¥¼ í™•ì¥í•´ì•¼í•˜ê³  `render` ë¼ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê·€ì°®ê³  ë¬´ê²ê³  ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ë¥¼ ê³„ì† ì‘ì„±í•´ì•¼í•˜ëŠ” ë¬¸ì œ.

ê·¸ë ‡ê²Œ ë˜ë‹¤ê°€ `StatelessComponent` ë¼ëŠ” ê°œë…ì´ ìƒê²¼ë‹¤. `props` ë¥¼ ë°›ì•„ì„œ ìˆœìˆ˜í•˜ê²Œ ë Œë”ë§ í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì–´ì¡Œë‹¤.

ê·¸ë ‡ê²Œ ë˜ë©´ êµ³ì´ í™•ì¥í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ë¨.

#### â­ï¸ stateless functional components

```jsx
React.FC: React.Function.Component
React.SFC: React.StatelessFunctionComponent
React.VFC: React.VoidFunctionComponent
```

ì´ëŸ° íƒ€ì…ë“¤ì´ ìˆì–´ì„œ ë”ìš± í—·ê°ˆë ¸ë‹¤. í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ê²°êµ­ `Stateless, Stateful` ë‘˜ë‹¤ ë  ìˆ˜ ìˆì–´ `SFC` ë¼ëŠ” ì´ë¦„ì€ í° í˜¼ë€ì„ ì¤€ë‹¤.

ì´í›„ `Hooks RFC` ë¼ê³  ë¡œì§ì„ ì»´í¬ë„ŒíŠ¸ê°„ì— ê³µìœ í•˜ê³  classë¥¼ ì„ ì–¸í•´ì„œ ë§Œë“¤ì§€ ë§ìë“±ì˜ ì˜ˆì‹œë¥¼ ë§Œë“¤ì–´ ê¸°ëŠ¥ì„ ì œì•ˆí•˜ê¸° ì‹œì‘í•˜ê³  ì´í›„ `Hooks` ê°€ ì±„íƒì´ ë˜ì–´ ë°œì „ì´ ë˜ê¸° ì‹œì‘í•œë‹¤.

#### ê·¸ëŸ¼ HooksëŠ” ë¬´ì¡°ê±´ ì¢‹ì€ê±¸ê¹Œ?

`React 16.8` ë¶€í„° Hookì´ ìƒê²¨ ë§ì´ ë°”ë€Œê²Œ ëœë‹¤. ê·œì¹™ë˜í•œ ë§ì•„ì„œ ë¦¬ì•¡íŠ¸ê°œë°œíŒ€ì—ì„œ `linter plugin` ë§ˆì € ì œê³µì„ í•˜ê²Œ ëœë‹¤.

ì¡°ê¸ˆì€ ì‹¬í”Œí•´ ë³´ì—¬ë„ ì‹¬í”Œí•¨ì´ ë” í—·ê°ˆë¦¼ì„ ìœ ë°œí•˜ëŠ” ë¶€ì‘ìš©ë„ ìƒê²¼ë‹¤.

#### Hooksì˜ êµ¬ì„±

```jsx
import React, { useState, useEffect } from 'react';

function Example() {
  const [count, setCount] = useState(0);

  // componentDidMount, componentDidUpdateì™€ ë¹„ìŠ·í•¨
  useEffect(() => {
    // ë¸Œë¼ìš°ì € APIë¥¼ ì´ìš©í•´ ë¬¸ì„œì˜ íƒ€ì´í‹€ì„ ì—…ë°ì´íŠ¸
    document.title = `You clicked ${count} times`;
  }]);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => .setCount(count + 1)}>
        Click me
      </button>
    </div>
  )
}
```

ê²°êµ­ ì´ëŸ° íŒ¨í„´ì´ë‹¤
`ìƒíƒœë¥¼ ì„ ì–¸ / ë¦¬ì•¡íŠ¸ê°€ ë Œë”ë§ ë˜ë©° ìƒê²¨ë‚˜ëŠ” ì´í™íŠ¸ ì¡°ì ˆë¶€ / ë Œë”ë§ ë˜ëŠ” ë¡œì§` ì´ë¡œ ì¸í•´ `class ì„ ì–¸ / this binding..` ë“±ë“±ì´ ë§ì´ ì‚¬ë¼ì§€ê³  ê°„ë‹¨í•´ì¡Œë‹¤.

### ğŸ“Œ ì •ë¦¬

> âœ… `Class Component / Hooks` ë‘ ì°¨ì´ì˜ ì¥ë‹¨ì ì„ ì•Œê³  ìˆì–´ì•¼ í•œë‹¤. ë¬´ì‘ì • Hooksê°€ ì¢‹ë‹¤ë¼ê¸°ë³´ë‹¤ëŠ” ì™œ Hooksê°€ ìƒê²¨ë‚œì§€ì— ëŒ€í•´ ì¸ì§€í•˜ê³  ìˆê¸°.
