## State

### 04. í”Œë˜ê·¸ ìƒíƒœ

---

#### âœ… í”Œë˜ê·¸ ê°’

í”„ë¡œê·¸ë˜ë°ì—ì„œ ì£¼ë¡œ `íŠ¹ì • ì¡°ê±´ / ì œì–´ë¥¼ ìœ„í•œ ì¡°ê±´` ì„ `boolean` ìœ¼ë¡œ ë‚˜íƒ€ë‚´ëŠ” ê°’

```jsx
// í”Œë˜ê·¸ ìƒíƒœë¡œ ë°”ê¾¸ê¸°
// âŒ
export const component = () => {
  const [isLogin, setIsLogin] = useState(false);

  useEffect(() => {
    if (a) {
      setIsLogin(true);
    }
    if (b) {
      setIsLogin(true);
    }
  }, []);
};
// âœ… â¬‡ï¸
export const component = () => {
  const isLogin = a || b;
};
```

### ğŸ“Œ ì˜ˆì œ 1

```jsx
import React from "react";
import { useEffect } from "react";
import { useState } from "react";

const FlagState = () => {
  const [isLogin, setIsLogin] = useState(false);

  useEffect(() => {
    if (hasToken) {
      setIsLogin(true);
    }
    if (hasCookie) {
      setIsLogin(true);
    }
    if (isValidCookie) {
      setIsLogin(true);
    }
    if (isNewUser === false) {
      setIsLogin(true);
    }
    if (isValidToken) {
      setIsLogin(true);
    }
  }, [hasToken, hasCookie, isValidCookie, isNewUser, isValidToken]);

  return <div>{isLogin && "ì•ˆë…•í•˜ì„¸ìš” !!"}</div>;
};

export default FlagState;
```

`ë¡œê·¸ì¸` ì„ ì˜ˆì‹œë¡œ ë“¤ë©´ ë¡œê·¸ì¸ì„ ìœ„í•œ `ì¸ì¦ / ì¸ê°€ / ...` ë“±ì´ ìˆëŠ”ë° ëŒ€ì²´ë¡œ `react app` ì€ `client state` ë¡œ í”„ë¡ íŠ¸ ë‹¨ì—ì„œ ìƒíƒœë¥¼ ê°€ì§€ê³  í™”ë©´ì„ ë³´ì—¬ì£¼ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì— ì´ëŸ¬í•œ ê°’ë“¤ì„ ê°€ì§€ê¸° ìœ„í•´ ë§ì€ ê²ƒë“¤ì„ ë‹¤ë£¨ê²Œ ëœë‹¤.

`useEffect` ë¡œ ë‹¤ ì¡ì•„ì„œ ê´€ë¦¬í•˜ê³  `ë¶„ê¸°ë¬¸ìœ¼ë¡œ ë•Œë ¤ ë„£ëŠ” ê²½ìš°` ê°€ ë§ì´ ìˆë‹¤. ë¬¼ë¡  ì´ëŸ° ê²½ìš°ì— ê°„ë‹¨íˆ í•©ì¹  ìˆ˜ë„ ìˆê² ê³  ì¡°ê±´ë¬¸ìì²´ë¥¼ ë¹¼ì£¼ê²Œ ë˜ë©´ ê¹”ë”í•˜ê²Œ ë§Œë“¤ ìˆ˜ëŠ” ìˆì„ ê²ƒì´ë‹¤.

```jsx
useEffect(() => {
  const isLogin =
    hasToken &&
    hasCookie &&
    isValidCookie &&
    isNewUser === false &&
    isValidToken;

  if (isLogin) {
    setIsLogin(true);
  }
}, [hasToken, hasCookie, isValidCookie, isNewUser, isValidToken]);
```

#### âœ… ë¶ˆí•„ìš”í•œ ìƒíƒœë¥¼ ë§Œë“¤ì§€ ë§ê¸°

ì´ì „ì— `ë¶ˆí•„ìš”í•œ ìƒíƒœ` ë¥¼ ë§Œë“¤ì§€ ì•ŠëŠ”ê²Œ ì¢‹ë‹¤. ë¼ê³  í–ˆìœ¼ë‹ˆ ê·¸ ì¼€ì´ìŠ¤ë¡œ í™•ì¸í•´ë³´ë©´ ë°–ìœ¼ë¡œ ë¹ ì ¸ë„ ë ê²ƒì´ë‹¤

```jsx
const isLogin =
  hasToken && hasCookie && isValidCookie && isNewUser === false && isValidToken;
```

ì´ë ‡ê²Œ ë˜ë©´ ê¸°ì¡´ì— ì‚¬ìš©í•˜ë˜ `isLogin` ì— ëŒ€í•œ ìƒíƒœ í˜¹ì€ ì¡°ê±´ë¬¸ë„ ì´ ì•ˆì—ì„œ í•„ìš”í•˜ì§€ëŠ” ì•Šê²Œëœë‹¤. ì´ë ‡ê²Œ ëœë‹¤ë©´ ê° ì¡°ê±´ì´ `ë§¤ ë Œë”ë§` ë§ˆë‹¤ ë‹¤ì‹œ ê³„ì‚°ì´ ë˜ë©´ì„œ ë“¤ì–´ê°„ë‹¤.

â—ï¸ ì´ë ‡ê²Œ í•˜ë©´ ìƒíƒœê°€ í•„ìš”í•˜ì§€ ì•Šê²Œ ë˜ê³ , ê·¸ ìƒíƒœë¥¼ ìœ„í•œ ë¶„ê¸°ë¬¸ì„ ì¹  í•„ìš”ê°€ ì—†ê²Œ ë˜ëŠ” ê²ƒ.

```jsx
// âœ…
const FlagState = () => {
  const isLogin =
    hasToken &&
    hasCookie &&
    isValidCookie &&
    isNewUser === false &&
    isValidToken;

  return <div>{isLogin && "ì•ˆë…•í•˜ì„¸ìš” !!"}</div>;
};

export default FlagState;
```

### ğŸ“Œ ì •ë¦¬

> âœ… `í”Œë˜ê·¸ ë³€ìˆ˜` ë¥¼ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ì˜ ë§Œë“¤ì–´ì„œ ì¡°ê±´ì„ ê´€ë¦¬í•œë‹¤ë©´ í° ìˆ˜ì •ì—†ì´ í° ë²„ì „ ë³€ê²½ ì—†ì´ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤. `useState` ëŒ€ì‹  í”Œë˜ê·¸ í™œìš©!
> â­ï¸ `í”Œë˜ê·¸ ê°’` ì„ êµ³ì´ ìƒíƒœë¡œ ë§Œë“¤ì§€ ì•Šê³  ë¦¬ì•¡íŠ¸ì—ì„œ `í‘œí˜„ì‹` ì„ ì‚¬ìš©í•˜ì.
