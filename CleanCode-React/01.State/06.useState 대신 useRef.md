## State

### 06. useState ëŒ€ì‹  useRef

---

```jsx
// useState ëŒ€ì‹  useRef
// âŒ
export const component = () => {
  const [isMount, setIsMount] = useState(false);

  useEffect(() => {
    if (!isMount) {
      setIsMount(true);
    }
  }, [isMount]);
};
// âœ… â¬‡ï¸
export const component = () => {
  const isMount = useRef(false);

  useEffect(() => {
    isMount.current = true;

    return () => (isMount.current = false);
  }, []);
};
```

### ğŸ“Œ ì˜ˆì œ 1

```jsx
import React from "react";
import { useEffect } from "react";
import { useState } from "react";

const RefInsteadOfState = () => {
  const [isMount, setIsMount] = useState(false);

  useEffect(() => {
    if (!isMount) {
      setIsMount(true);
    }
  }, [isMount]);

  return <div>{isMount && "ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì™„ë£Œ"}</div>;
};

export default RefInsteadOfState;
```

#### âœ… ë¦¬ë Œë”ë§ ë°©ì§€ê°€ í•„ìš”í•˜ë‹¤ë©´ useState ëŒ€ì‹  useRef

ë³´í†µ `useState / useRef` ë¥¼ ì§ì ‘ì ìœ¼ë¡œ ë¹„êµí•œë‹¤ê¸°ë³´ë‹¤ `useRef` ëŠ” í•„ìš”ì—ë”°ë¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.
í•˜ì§€ë§Œ ê°„í˜¹ `useState` ë¥¼ ëŒ€ì‹ í•´ì„œ ì‚¬ìš©í•´ì•¼ í•  ë•Œê°€ ìˆë‹¤.

â—ï¸ ê¸°ë³¸ì ì¸ ì°¨ì´ëŠ” `useRef` ëŠ” `ê°€ë³€ ì»¨í…Œì´ë„ˆ` ë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆë‹¤.

`isMount` ê°™ì€ `íŠ¹ì • í”Œë˜ê·¸ ê°’ / ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬ë˜ì§€ë§Œ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ê´€ë¦¬í•˜ê¸° ë³´ë‹¤ í•œë²ˆ ê³ ì •ëœ ê°’ì„ ê³„ì† ì‚¬ìš©í•˜ëŠ” ê°’` ê°™ì€ ê²½ìš°ì—ëŠ” êµ³ì´ `useState` ê°€ í•„ìš”ê°€ ì—†ì„ ìˆ˜ ìˆë‹¤.

â­ï¸ ì¦‰, ì»´í¬ë„ŒíŠ¸ì˜ ì „ì²´ì ì¸ ìˆ˜ëª…ê³¼ ë™ì¼í•˜ê²Œ ì •ë³´ë¥¼ `ì¼ê´€ì ìœ¼ë¡œ ì œê³µ` í•´ì•¼ í•˜ëŠ” ê²½ìš°ì— ìˆë‹¤.
ê°€ì¥ í”í•œ ì‚¬ë¡€ê°€ `isMount` ì¼ ìˆ˜ ìˆë‹¤.

#### â—ï¸ ë²ˆì™¸ë¡œ ë¦¬ì•¡íŠ¸ ê°œë°œì§„ì€ `isMount` ì™€ ê°™ì€ ê°’ì„ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ì§€ ë§ë¼ê³  í–ˆë‹¤.

ì´ì „ì— ì œê³µë˜ë˜ `ë§ˆìš´íŠ¸ë¥¼ ì²´í¬` í•  ìˆ˜ ìˆëŠ” ì†ì„±ì€ ì—†ì•¤ ìƒí™©ì´ë‹¤. í•˜ì§€ë§Œ ì´ëŸ° ìƒíƒœë¥¼ ë§ì´ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ëŠ”ë° ì‚¬ì‹¤ ì¢‹ì§€ ì•Šì€ ìƒí™©ì´ë‹¤.
â­ï¸ `useState` ë¥¼ í†µí•´ì„œ ê°’ì´ ë§Œë“¤ì–´ì¡Œë‹¤ëŠ” ê²ƒì€ `setState` ê°€ ë™ì‘ì„ í•˜ë©´ì„œ ì›ì¹˜ ì•ŠëŠ” ë¦¬ë Œë”ê°€ ì»´í¬ë„ŒíŠ¸ì— ë°œìƒ ëœë‹¤. ì¦‰, `ë¦¬ë Œë”ë§` ì„ ë§ì´ ìœ ë°œí•œë‹¤.

ë”°ë¼ì„œ ì´ˆê¸°ê°’ì„ ë‚˜íƒ€ë‚´ê±°ë‚˜ ë¦¬ë Œë”ê°€ êµ³ì´ ë˜ì§€ ì•Šê³  `ë Œë”ë§ í”„ë¡œì„¸ìŠ¤ì™€ ê´€ê³„ ì—†ì´` ê°’ì„ `ê°€ë³€ì ` ìœ¼ë¡œ ì €ì¥í•˜ê³  ì‹¶ì€ ê²½ìš° `useRef` ë¥¼ ì´ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒ.

#### âœ… `useRef` ëŠ” ì‚¬ì‹¤ DOMì—ë§Œ ë¶™ì¼ ìˆ˜ ìˆëŠ” APIê°€ ì•„ë‹ˆë‹¤.

```jsx
import React from "react";
import { useEffect } from "react";
import { useState } from "react";

const RefInsteadOfState = () => {
  const isMount = useRef(false);

  useEffect(() => {
    isMount.current = true;

    return () => (isMount.current = false);
    // es lint rule ë§‰ê¸°
  }, []);

  return <div>{isMount && "ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì™„ë£Œ"}</div>;
};

export default RefInsteadOfState;
```

ë¦¬ë Œë”ë§ì„ ìœ ë°œí•˜ì§€ ì•ŠëŠ” `ê°€ë³€ ì»¨í…Œì´ë„ˆ` ë¥¼ ë§Œë“¤ê³  í•´ì œí•˜ëŠ” ì½”ë“œë¥¼ `useEffect` ì— `ë¹ˆ dependencies` ì— ë„£ì–´ì„œ ì´ˆê¸°ì—ë§Œ ë™ì‘í•˜ê²Œ í•œë‹¤.

ì´ ê²½ìš° `es-lint` ì—ì„œ ê²½ê³ ë¥¼ ë„ì›Œì¤€ë‹¤ë©´ ì´ í•œ ì¤„ ì •ë„ëŠ” `es-lint rule` ì„ ë§‰ì•„ì„œ ì‚¬ìš©í•´ë„ ëœë‹¤.

ì´ë ‡ê²Œ í•˜ëŠ” ê²½ìš°ì—ëŠ” `ë¡œì§` ì—ì„œ ë Œë”ë§ì„ êµ³ì´ ìœ ë°œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— `ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”` ê°€ ë˜ì§€ ì•ŠëŠ”ë‹¤.

â—ï¸ ë˜í•œ `ê°’` ë˜í•œ ì»´í¬ë„ŒíŠ¸ì™€ ê°™ì€ ìƒëª…ì£¼ê¸°ë¡œ ì›€ì§ì´ê¸° ë•Œë¬¸ì— ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### ğŸ“Œ ì •ë¦¬

> âœ… ê¼­ `useRef` ë¥¼ `DOM` ì—ë§Œ ë¶™ì—¬ ì‚¬ìš©í•˜ëŠ”ê²ƒì´ refì‚¬ìš©ì— ë‹¤ëŠ” ì•„ë‹ˆë‹¤. ê²°êµ­ `useState` ëŒ€ì‹  `useRef` ë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ ìƒëª…ì£¼ê¸°ì™€ ë™ì¼í•œ `ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠëŠ” ìƒíƒœ` ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
