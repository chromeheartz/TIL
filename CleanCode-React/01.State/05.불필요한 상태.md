## State

### 05. ë¶ˆí•„ìš”í•œ ìƒíƒœ

---

```jsx
// ë¶ˆí•„ìš”í•œ ìƒíƒœ ì œê±°í•˜ê¸°
// âŒ
const [userList, setUserList] = useState(MOCK_DATA);
const [complUserList, setComplUserList] = useState(MOCK_DATA);

useEffect(() => {
  const newList = complUserList.filter((user) => user.completed === true);

  setUserList(newList);
}, [userList]);

// âœ… â¬‡ï¸
const complUserList = userList.filter((user) => user.completed === true);
```

### ğŸ“Œ ì˜ˆì œ 1

```jsx
import React from "react";
import { useEffect } from "react";
import { useState } from "react";

const MOCK_DATA = [
  {
    userId: 1,
    id: 1,
    title: "clean code",
    completed: false,
  },
  {
    userId: 2,
    id: 2,
    title: "clean code",
    completed: true,
  },
];

const CONSTANTS = {
  name: "My Component",
  value: "Clean Code React",
};

const UnnecessaryState = () => {
  const [userList, setUserList] = useState(MOCK_DATA); // ì´ˆê¸° ìƒíƒœ ì„ ì–¸
  const [complUserList, setComplUserList] = useState(MOCK_DATA); // ë³€ê²½ í›„ ì €ì¥í•  ìƒíƒœ ì„ ì–¸

  useEffect(() => {
    const newList = userList.filter((user) => user.completed === true);

    setUserList(newList);
  }, [userList]);
  return (
    <div className="App">
      <header>{CONSTANTS.value}</header>
      <article>
        <ul>
          {MOCK_DATA.map((user) => (
            <li>
              {user.title} / {user.completed}
            </li>
          ))}
        </ul>

        <ul>
          {userList.map((user) => (
            <li>
              {user.title} / {user.completed}
            </li>
          ))}
        </ul>

        <ul>
          {complUserList.map((user) => (
            <li>
              {user.title} / {user.completed}
            </li>
          ))}
        </ul>
      </article>
    </div>
  );
};

export default UnnecessaryState;
```

ì¼ë‹¨ í˜„ì¬ì˜ ëª©ì ì€ `MOCK_DATA` ì—ì„œ `completed` ê°€ `true` ì¸ ê²ƒë“¤ë§Œ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ê³  ì‹¶ì€ê²ƒì´ë‹¤.

í•˜ì§€ë§Œ `useEffect` ì™€ í•„ìš”ì—†ëŠ” ìƒíƒœë¥¼ ë°©ì¹˜í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. ì´ëŸ° ê²½ìš°ì—ëŠ” `ë‚´ë¶€ì˜ ë³€ìˆ˜` ë¡œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

#### â—ï¸ `ì—…ë°ì´íŠ¸ ë˜ì§€ ì•ŠëŠ” ê°’` ê³¼ ë‹¤ë¥´ê²Œ `ì—…ë°ì´íŠ¸ ë˜ëŠ” ê°’` ì€ `ë Œë”ë§ ë§ˆë‹¤ ê³ ìœ í•œ ê°’` ì„ ê°€ì§€ê²Œ í•˜ëŠ”ê²ƒì´ ë‚˜ì„ ìˆ˜ ìˆë‹¤.

```jsx
const complUserList = userList.filter((user) => user.completed === true);
```

ë˜í•œ ë°”ë¡œ ë‹´ì•„ì„œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤

#### âœ… ë¦¬ì•¡íŠ¸ ë‚´ë¶€ì—ì„œ ë³€ìˆ˜ëŠ” ë¬´ìŠ¨ ì—­í• ì„ í• ê¹Œ?

`ë Œë”ë§` ë§ˆë‹¤ `ê³ ìœ ì˜ ê°’` ì„ ê°€ì§€ëŠ” `ê³„ì‚°ëœ ê°’(Computed Value)` ë¥¼ ê°€ì§„ë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œëŠ” `Computed Value` ë¥¼ ê³µì‹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šê¸° ë•Œë¬¸ì— ê³ ìœ ì˜ ê°’ì´ë¼ê³ ë§Œ ìƒê°í•´ë„ ëœë‹¤.

### ğŸ“Œ ì •ë¦¬

> âœ… `ìƒìˆ˜ / ê³„ì‚°ëœ ê°’` ì„ ë§Œë“¤ê±°ë‚˜ `ë Œë”ë§ ë§ˆë‹¤ ê³ ìœ ì˜ ê°’` ì„ ê°€ì ¸ë„ ë˜ê³  ì¤‘ë³µë˜ë”ë¼ë„ ë Œë”ë§ë§ˆë‹¤ `ì°¸ì¡° ë°ì´í„°` ë¥¼ ì‹ ì„ í•˜ê²Œ ìœ ì§€ì‹œí‚¤ê¸° ìœ„í•´ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì— ë³€ìˆ˜ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
> êµ³ì´ `setState` ë¡œ í•˜ë“œí•˜ê²Œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì§€ ì•Šê³  `ë³€ìˆ˜ì˜ í‘œí˜„ì‹` ìœ¼ë¡œë„ ì¶©ë¶„íˆ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

- propsë¥¼ useStateì— ë„£ì§€ ì•Šê³  ë°”ë¡œ `return` ë¬¸ì— ì‚¬ìš©í•˜ê¸°
- `ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ ë³€ìˆ˜` ëŠ” ë Œë”ë§ë§ˆë‹¤ `ê³ ìœ í•œ ê°’` ì„ ê°€ì§
- ë”°ë¼ì„œ `useState` ë³´ë‹¤ `const` ë¡œ ìƒíƒœë¥¼ ì„ ì–¸í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ê²½ìš°ë„ ìˆìŒ.
