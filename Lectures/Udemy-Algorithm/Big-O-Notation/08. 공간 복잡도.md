## 빅오 표기법 (Big-O-Notation)

### 08. 공간 복잡도
---------------------------------------------

지금까지는 `시간` 과 관련되어 알고리즘이 얼마나 빨리 실행되는지를 보았다.
이것을 **시간 복잡도** 라고 한다.

이제는 입력이 커질수록 알고리즘이 얼마나 `많은 공간` 을 차지하는지에 대해 볼것.
빅오 표기법을 사용할 수 있지만 일어나는 현상을 표현하기 위해서 `공간, 사용되는 메모리` 에 주목.

### 📌 what about the inputs?

당연한 것은 n이 커질수록, `무한대` 까지 가면서 입력 자체가 커진다.
그 부분은 무시. `보조 공간 복잡도` 라는 것이 있는데 이것은 입력되는 것을 제외하고 `알고리즘 자체가 필요로 하는 공간` 을 의미한다.

결국 `공간 복잡도` 는 `보조공간(Auxiliary Space)` 과 `입력 공간(input size)` 을 합친 포괄적인 개념이며, `보조 공간(Auxiliary Space)` 은 알고리즘이 실행되는 동안 사용하는 `임시 공간` 이다.
그렇기 때문에 `입력 공간(input size)` 을 고려하지 않는다.

### 📌 space complexity in JS

일단 기본적인 JS 규칙을 보아야 한다.

- `Boolean, number, undefined, null` 은 모두 `불변 공간` 이라고 여긴다.
  - 그렇기 때문에 입력의 크기와 상관없이 숫자가 1이든 1000이든, Boolean이 참이던 거짓이던 똑같은 공간을 가진다
- 문자열은 `O(n)` 의 공간이 필요하다.
  - 문자열의 길이가 만약 n이라면, 50자의 입력이라면 문자열의 길이가 1인 문자열보다 50배 더 많은 공간을 차지한다
- `reference 타입, 배열, 객체` 도 대부분 `O(n)` 이라고 생각한다.
  - n은 배열의 길이이거나 객체의 키 갯수 일 수 있다. 정확히 배열의 길이는 아니지만 만약 배열의 길이가 4이고, 또 하나가 2라면 긴 배열이 짧은 배열보다 2배 더 많은 공간을 차지한다.
  
### 📌 example

여기서 집중해서 보는것은 `공간 복잡도` 이다.
이 함수는 배열을 받아서 그 배열안에 있는 `모든 아이템` 을 합할것인데, 루프가 0부터 배열의 모든 숫자들을 더하고 그 숫자들을 total 변수에 반환할것이다.

**⭐️ 공간을 차지할 것들이 무엇일까?**
- `total` 변수
  - 배열의 길이와는 상관없는 변수
- `i = 0`
  - 또 하나의 숫자
  
이 두공간이 할당되어 있기 때문에 배열의 크기와는 상관없이 n이 커져도 `입력의 크기` 가 `차지하는 공간` 과 아무 상관이 없다. 두 변수밖에 없기 때문에.
이 두 변수는 `어떤 상황` 에서든 존재함.

그렇다면 결국 `상수 공간` 이 있다는 것이다
**O(1) space**

```js
function sum(arr) {
  let total = 0;
  for (let i = 0; i < arr.length; i++) {
    total += arr[i];
  }
  return total;
}
```

### 📌 Example 2

`double([1, 2, 3])` 을 넣으면 `[2, 4, 6]` 이 반환될것인데 여기서 주목할 점은 `새로운 배열` 이라는 것이다. 우선 새로운 배열을 만들고, 그 다음에 배열 값들을 곱한 후에 새로운 배열에 넣게 되는데 
**❗️ 그렇다면 배열의 크기가 늘어나서 무한대에 가까워질수록 `공간 복잡도` 는 어떻게 될까?**
자바스크립트가 감당하지 못한다는 사실은 무시하고 배열이 차지하는 공간만 생각.
현재 함수는 입력된 배열의 길이가 10이면 새로운 배열에 저장되는 아이템이 10개가 되고, 비례해서 반환할것이다.

그렇기 때문에 `차지하는 공간` 은 `입력된 배열의 크기와 비례` 해서 커지게 된다
결국 이 함수의 공간 복잡도도 `O(n)` 으로 단순화 할 수 있다.

```js
function double(arr) {
  let newArr = [];
  for (let i = 0; i < arr.length; i++) {
    newArr.push(2 * arr[i]);
  }
  return newArr;
}
```