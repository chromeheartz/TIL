## Branch

### 10. Git에서 HEAD와 브랜치를 저장하는 방법

---

![스크린샷 2024-07-02 오후 3 40 32](https://github.com/chromeheartz/TIL/assets/95161113/6ec49cd3-d5f3-4c73-9b88-ab341b93efee)

### 📌 HEAD가 어떻게 작동할까?

`HEAD` 가 어떻게 작동하는지, 그것이 참조하는 브랜치를 가리키고 각 브랜치 레퍼런스는 `커밋을 참조` 한다는 사실을 알아보자.

`master` 브랜치로 돌아가보면, 커밋2개가 있는 단순한 브랜치일것이다.
`HEAD => master` 로 HEAD가 master를 가리키는 것을 볼 수 있는데, 우리가 지금 master에 있기 때문이다.

![스크린샷 2024-07-02 오후 3 44 45](https://github.com/chromeheartz/TIL/assets/95161113/f6a44afa-b3f5-4efd-8f43-20cee145e6e8)

`93ed` 로 시작하는 커밋이 가장 최근의 커밋이다.
이후 `.git` 이라는 숨은 디렉토리를 살펴보면 `HEAD` 가 있고 살펴보기 위해 `cat HEAD` 명령을 실행하면, 다른것을 참조하고 있는 것을 알 수 있다.

간단히 말해서 `HEAD는 master 브랜치` 를 가리키고 있다.

![스크린샷 2024-07-02 오후 3 45 49](https://github.com/chromeheartz/TIL/assets/95161113/569fbdf2-92d5-491b-9c02-4b9b1f4d5a87)

다른 브랜치로 이동하고 다시 HEAD를 보기 되면 해당 브랜치를 가리키고 있는 것을 볼 수 있다.

#### 특정 브랜치를 참조

즉, `cat .git/HEAD` 를 실행하면 `HEAD` 라고 불리는 파일은 특정 브랜치를 참조하고 있다.

또한 `ref: refs/heads/master` 같은 결과를 보여주는데 이는 `특정 커밋` 을 참조한다.

#### 특정 커밋을 참조

`.git` 디렉토리를 다시 들어가서 `refs/heads` 를 확인해보면 내가 가지고 있는 모든 `브랜치 / 파일` 이 있다.

각 파일은 하나를 의미하는데 이 파일을 `텍스트 에디터` 에서 열면 `커밋 해시` 가 들어있다.

![스크린샷 2024-07-02 오후 3 48 09](https://github.com/chromeheartz/TIL/assets/95161113/d474f729-6679-468d-b0f0-f40dfef27eba)

master 브랜치에 대한 북마크인 것을 알 수 있다.

> 이 파일들 각각은 커밋을 참조하고 있고 파일 안에 `커밋 해시` 를 저장하고 있다. 결국은 HEAD가 현재 이동해 있는 브랜치를 가리킨다는 사실을 이해하자.
