## Undo

### 08. Git Revert로 커밋 원래대로 복구하기

---

### 📌 git revert

`git revert(되돌리기)` 현재까지 배운 `git restore(복원) / git reset(재설정)` 과 비슷한 되돌리기 이다.

모두 같은 일을 하는 것 같고 특히나 `되돌리기 / 재설정` 은 매우 비슷해 보이고 둘 다 커밋의 변화를 취소하는 것과 관련이 있지만, 중요한 차이가 있다.

#### ⭐️ 되돌리기와 재설정 둘다 모두 커밋에서 변경 사항을 취소하지만 방법이 다르다.

<img width="856" alt="스크린샷 2024-08-12 오후 9 10 22" src="https://github.com/user-attachments/assets/35318c8f-4508-4885-a85d-572a799fa8a7">

`재설정` 에서 보았듯이 재설정은 `커밋을 완전히 제거` 하고 `브랜치 포인터` 를 뒤로 이동시킨다. \* 해당 커밋이 존재하지 않았던 것처럼.

재설정의 사진을 예로 보면 커밋 2개는 완전히 사라진다.

<img width="1182" alt="스크린샷 2024-08-12 오후 9 10 56" src="https://github.com/user-attachments/assets/96239feb-c817-498a-91a3-631f791b2ea3">

하지만 `되돌리기` 는 다르다. `완전히 새로운 커밋` 을 만든다. 새로운 커밋에서 `이전 커밋의 변경 사항을 취소` 한다. 즉, 변경 사항을 취소하는 것은 맞지만 기본적으로 ⭐️ `변경 사항을 실행 취소하는 새로운 커밋` 을 만드는 것이다.

> 만약 커밋의 기록(나쁜 커밋)을 남겨두고 싶지만, 변경 사항을 취소하고 싶다면 `revert` 를 사용하면 되고, 다 지워버리고 싶으면 `reset` 을 사용할 수 있다.

#### git revert `<commit-hash>`

커밋 해시를 사용하면 `편집기` 가 열린다. 왜냐하면 새로운 커밋을 만들기 때문 `병합 같이`.

병합 커밋이 있을 때에는 `메시지` 를 써야한다.
이후 `git log --oneline` 으로 확인을 해보면 여전히 커밋의 기록은 보존되어 있지만 변경 사항은 되돌려진다

#### ⭐️ 그럼 왜 사용을 할까?

<img width="1067" alt="스크린샷 2024-08-12 오후 9 14 12" src="https://github.com/user-attachments/assets/a159bda2-f94e-426d-addc-27f774caaece">

`협업` 을 할 시에 사용할 일이 생길것이다. 다른 사람들과 팀을 이루어 작업한다면, 모두 다른 컴퓨터를 사용할 텐데 다른 사람들이 `나쁜 커밋의 복사본` 을 가지고 있는 경우 내가 `reset(재설정)` 으로 제거를 한다면 문제가 될 수 있다.

왜냐하면 다른 사람들이 가지고 있는 `기록을 취소` 시켜 버리는 행동이기 때문에 조화시키기가 힘들다.

따라서 협업을 하는 경우는 일반적으로 되돌리기를 사용한다. 그러면 새로운 커밋이 생기고 그 커밋을 다른 사람들과 공유할 수 있다.

<img width="1167" alt="스크린샷 2024-08-13 오전 11 07 44" src="https://github.com/user-attachments/assets/13b19091-ff0d-45a9-b58f-8fb06318edd8">

해당 상황처럼 공동작업자가 있는 경우 내가 `재설정` 을 해버리면 이력을 맞추기 힘들어진다. 공동작업자들이 가지고 있는 기록을 내가 바꾸는 것이다.

<img width="1129" alt="스크린샷 2024-08-13 오전 11 08 36" src="https://github.com/user-attachments/assets/ba3efad8-19c0-42ea-b151-d25a775d4a37">
 
 따라서 `되돌리기` 를 해야한다. 다른 커밋의 변경사항을 `취소하는 새 커밋` 을 만들어야 쉽게 공유하고 꼬이지 않는다.
 
> **git revert docs** 👉 [`git revert docs`]

[`git revert docs`]: https://git-scm.com/docs/git-revert
