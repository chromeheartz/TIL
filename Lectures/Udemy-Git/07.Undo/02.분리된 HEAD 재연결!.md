## Undo

### 02. 분리된 HEAD 재연결!

---

### 📌 분리된 HEAD

<img width="1104" alt="스크린샷 2024-08-01 오후 1 56 32" src="https://github.com/user-attachments/assets/fab9807b-7491-4b54-9428-ce2b0a446bac">

현재 분리된 헤드 상태에서 `무엇을 할 수 있고 무엇을 할 수 없을까`

현재에 할 수 있는 일은 그냥 둘러보고, 오래된 커밋을 검토하고, 파일을 보거나 뭔가를 복사해서 갖고가는 것 등이 있을 수 있다.

#### ✅ `왔던 곳` 으로 돌아가기

왔던 곳으로 돌아가고 싶다면, 즉 `마스터` 로 돌아가고 싶다면 `브랜치를 스위치` 하기만 하면 된다.
`분리된 헤드` 에 있다면 `마스터` 로 스위치할 수 있다.

```
git switch master
git checkout master
```

현재 저장소에는 마스터 브랜치 하나만 있기 때문에 다시 연결할 수 있다.

<img width="992" alt="스크린샷 2024-08-01 오후 1 59 28" src="https://github.com/user-attachments/assets/f6b2c39f-7a9c-445b-ab6c-3e2454b2e420">
<img width="982" alt="스크린샷 2024-08-01 오후 1 59 38" src="https://github.com/user-attachments/assets/44873434-4e5f-4ae6-bc54-ac46628cb193">

master 브랜치로 돌아가서 `git log` 를 다시 입력하면, 모든 커밋이 다시 표시되고, 헤드가 해당 마스터 브랜치 참조를 가리키는 것을 볼 수 있다.

> 즉, 돌아가서 관찰만 한 것이다.

### 📌 만약 돌아가고 싶다면?

만약 어떠한 커밋의 기점으로 돌아가고 싶다고 해보자.
즉, 그 사이의 작업들을 모두 지워버리고 싶은것이다.
삭제하지는 않겠지만 `해당 작업들을 포함하지 않는 새 브랜치` 를 만들고 싶다고 할때 어떻게 해야할까?

⭐️ 그런 경우에는 해당 커밋으로 들어가서 새 브랜치를 `switch` 로 만들면 된다.

```
git checkout 4737c78
git switch -c chapter2-redo
```

이렇게 하면 해당 커밋해시의 커밋을 기점으로 `chapter2-redo` 라는 브랜치를 다시 만들 수 있게 된다. 이 기점에 `HEAD` 는 실제로 브랜치 참조를 가리키고 있고 `분리된 헤드` 에 있지 않다.
해당 브랜치에서 작업 후 다시 추가하면

```
git add .
git commit -m "start second steb at chapter 2"
```

이렇게 하면 새로운 커밋이 생기고 마스터와는 별개로 진행되는 것을 볼 수 있다.

> `git checkout commitHash` 를 하면 분리된 헤드로 돌아간다. 해당 상태에서 파일을 보던지, 스위치해서 돌아갈 수 있고, 원하는 브랜치로 가던지 아니면 해당 커밋을 기반으로 새로운 브랜치를 생성하는 것도 가능하다.
