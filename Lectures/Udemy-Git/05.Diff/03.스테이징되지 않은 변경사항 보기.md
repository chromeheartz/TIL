## Diff

### 03. 스테이징되지 않은 변경사항 보기

---

<img width="1014" alt="스크린샷 2024-07-08 오후 10 17 52" src="https://github.com/chromeheartz/TIL/assets/95161113/a00112f6-942e-455b-b931-aaea53e352cd">

- `git diff`
- `git diff --HEAD`
- `git --staged`
- `git --cached`
- `git diff HEAD [파일이름]`
- `git diff staged [파일이름]`
- `git diff [브랜치 이름]`

그리고 커밋 해시를 넣을 수 있고 다룰 수 있는 방법들이 아주 많이 있다. 모든 명령어들은 상당히 비슷한 패턴을 가지고 있어서 아주 어렵지는 않다.

어떠한 커밋 내역이 있고 이는 하나의 파일에서 계속해서 색상을 추가해가면서 커밋을 했다고 가정해보자

#### ✅ `git commit -am "message"`

를 작성하게 되면 즉, `-am` 옵션을 사용하면 모든 파일을 한꺼번에 등록하고 끝에 메세지를 넣는 옵션이다.

어쨌든 가정했던 상황을 `git log --online` 로 확인을 해보면

![스크린샷 2024-07-08 오후 11 43 09](https://github.com/chromeheartz/TIL/assets/95161113/c8d25f2e-ce10-479f-b30b-eae34f5b930c)

대략 이런형태가 나온것을 알 수 있다.

여기서 `git diff` 를 사용해보자.

#### 📍 git diff

아무 옵션도 없는 `git diff` 명령어를 보면, 이 명령은 다음 커밋을 위해 스테이지에 등록되지 않은 `워킹 디렉토리의 모든 변경사항` 을 보여주고 `워킹 디렉토리와 스테이징을 비교` 한다.

또한 스테이징은 일반적으로 `문서의 인덱스` 를 가리키는데, 예제로 봐보자.

어쨌든 현재 상황에서 `git diff` 를 실행하면 아무런 차이가 없다. **아무것도 변경된 것이 없기 때문**

여기서 아주 간단한 작업을 하게 되고 `git status` 를 실행하면 수정된 파일이 있다고 알려주고 `git diff` 를 실행하면 차이점을 볼 수 있다.

![스크린샷 2024-07-08 오후 11 45 33](https://github.com/chromeheartz/TIL/assets/95161113/3c110c8b-32e6-43e3-9f66-982e8eeba0d5)

`인덱스가 알고 있는 스테이지 영역` 에 있는 것과 `우리가 변경했던 것들` 사이에서 비교한 것을 보여주고 있다.

#### 차이점이 무엇인지에 대해 생각하는 다른 방법

`스테이지 영역` 에 등록하라고 지시할 수 있다는 것. 그래서 이 파일에서 볼 수 있듯이 `a버전(전버전), b버전(현재버전)` 이 있다.

> 따라서 a는 스테이지 영역에 등록된것, b는 워킹 디렉토리에서 변경한 것들이다.

> ⭐️ `git diff` 는 `스테이지에 등록하지 않은` 워킹 디렉토리 안에 있는 변경사항 목록을 나열한다.
