## Rebase

### 04. 충돌과 리베이스 다루기

---

### 📌 충돌과 리베이스

`리베이스` 를 해도 머지할 때 처럼 충돌이 발생할 수 있다. 커밋 히스토리나 브랜치를 병합하는 것이기 때문에 발생 가능성이 있다.

상황을 가정해보자.

- 피처 브랜치에서 한 파일을 수정하고 커밋
- 메인 브랜치에서도 같은 파일을 수정

이런식으로 같은 파일을 수정했다면 충돌이 발생한다.
`git commit -am "msg"` 로 마스터에서도 커밋을 하고, 또 피처 브랜치에서 한번 더 추가작업으로 커밋을 하면 `깃 히스토리` 를 보면 분기가 발생해버리게 된다.

이런 때에 `피처 브랜치` 에서 `git rebase master` 를 해서 보면 충돌이 난 것을 확인한다.
마스터 브랜치로 리베이스 하면서 피처 브랜치에 있는 커밋을 재생성하는데 충돌이 나기 때문에 변경사항을 병합하는데 실패하게 된다.

#### 여기서 할 수 있는 방법

- 리베이스를 중단

안내가 나와있는데 `이전 상태` 로 돌아가려고 하면 `git rebase --abort` 를 실행하면 된다. 현재 리베이스가 일부 진행되어있는데, 기존 커밋을 새 커밋으로 재생성할때 충돌이 난것이다.
이 충돌을 해결하려고 하는데 이는 `머지 충돌 해결 상황` 과 같다.

변경사항을 정리하고 `git status` 를 확인하면 리베이스가 진행 중이라는 안내가 있다. 이 후 `git add` 로 파일을 추가하고 `git rebase --continue` 를 실행하게 되면 모든 충돌이 잘 해결된다.

> `리베이스` 할 때는 각 상태마다 나오는 안내 메세지에 관심을 가져야 한다.

이렇게 충돌은 일어날 수 있는데, 파일을 열면 어디서 충돌 났는지 보여준다. 원하는 버전을 선택한 후 파일을 추가 즉, 스테이지에 올리고 안내를 따르면 된다.
이 때는 커밋을 머지 하지 않았다. 대신 리베이스를 재개할 수 있음.
