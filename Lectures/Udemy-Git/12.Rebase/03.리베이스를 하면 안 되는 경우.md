## Rebase

### 03. 리베이스를 하면 안 되는 경우

---

### 📌 리베이스를 하면 안 되는 경우

<img width="978" alt="스크린샷 2024-09-20 오전 11 59 28" src="https://github.com/user-attachments/assets/15871ba3-f29c-485f-83ab-8de6fae1cc8a">

리베이스를 `언제 하면 좋은지 / 언제 절대 하면 안되는지` 를 알아보자.

그리고 `왜 머지 대신 리베이스` 인가에 대해서도.

<img width="632" alt="스크린샷 2024-09-20 오후 12 00 43" src="https://github.com/user-attachments/assets/8f1d0b57-3da6-4176-a5a4-eec8c7f5ded9">

만약 어떤 저장소에 커밋이 바글바글하다고 가정을 해보자. 리베이스를 사용한 `tree` 를 보면 피처 브랜치에 작업한 것이 무엇인지 아주 명확하게 파악할 수 있다. 리베이스해서 올라온 커밋이 마지막으로 보이기 때문.

✅ 즉, 피처 브랜치에서 마스터브랜치로 리베이스 한다면 피처 브랜치에 올렸던 `커밋` 들은 `제일 끝` 에 함께 모이기 때문.

많은 사람이 참여하는 오픈 소스 프로젝트에는 엄청난 양의 커밋이 항상 쌓일텐데, `reabse` 를 활용하면 누구라도 작업히스토리를 보고 피처 브랜치에 뭘 올렸는지 확인하기 편할것이다.

여기서 신경 써야할 부분은

> `히스토리를 업데이트` 한다는 것이다. 리베이스는 `커밋을 새로 생성` 한다.

<img width="1055" alt="스크린샷 2024-09-20 오후 12 02 34" src="https://github.com/user-attachments/assets/4682fb5b-e99f-4115-b53c-18ae25303d58">

이 때문에 반드시 기억해야 할 것은 ✅ `다른 개발자들이 이미 가지고 간 커밋을 리베이스 하지 말아야 한다`

만약 내가 깃허브에 어떤 브랜치를 푸시했고 다른 사람들이 이미 내 커밋을 당겨 갔다고 생각해보자.

이후에 `리베이스` 를 하는 순간 히스토리가 `재작성` 되니 커밋이 새로 생성되는 것이다. 끔찍하진 않더라도 무척 번거로운 상황이 될것이다.

> 다른 이들의 히스토리에 없는 커밋을 내가 가지게 되는 것이기 때문.

### 📌 중요 포인트

`이미 공유한 커밋을 리베이스 하지 말자`
리베이스는 `다른 사람들에겐 없는 커밋` 이 내 로컬에 있을 때 수행하는 것이 좋다. 피처 브랜치에 작업 중인데 `마스터 브랜치를 리베이스` 하는 것도 안좋다. 다른 개발자들이 마스터 브랜치를 당겨 가서 내가 이미 가지고 있는 커밋을 그들도 가지고 있을 수 있기 때문.

📍 마스터 브랜치를 건드리거나 리베이스하게되면 커밋이 새로 생성되는데 이 때 푸시를 시도하면 바로 문제가 발생한다.

<img width="1181" alt="스크린샷 2024-09-20 오후 12 06 54" src="https://github.com/user-attachments/assets/fca2e22c-4cae-47cb-bf97-5eef7af08bbf">

기존에 보았던 그림을 보면 여기서 나는 `피처 브랜치` 에 있고, `마스터 브랜치로 리베이스` 했다. 이건 문제가 되지 않는다. 마스터 브랜치의 히스토리가 아닌 `피처 브랜치의 히스토리` 를 바꾸는 것이기 때문.
