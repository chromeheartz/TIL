## Workflow & Debugging

### 02. 제3자 패키지

---

### 📌 Thirdparty Package

`package.json` 파일이 있으므로 노드 프로젝트에서 또 다른 중요한 작업을 할 수 있다. `제3자 패키지` 를 설치하는 것으로 일반적으로 노드 프로젝트는 이런 구조를 띠고 있다.

![](https://velog.velcdn.com/images/chromeheartz/post/6753ecfb-72dd-4d40-9c21-f25e8b0669dd/image.png)

`FS 패키지 / HTTP 패키지` 를 비롯한 여러 코어 노드 패키지를 사용하게 되는데, 이걸로는 충분하지 않은 경우가 다수 있다.
일반적으로 제3자 캐피지에 대한 종속성이 있는데, 따라서 직접 작성하지 않은 어떤 기능이나 코드를 사용하고 싶지만 Node.js에도 포함되지 않은 경우 패키지들을 사용함으로써 `들어오는 요청을 파싱 / 사용자 입력 유효성 검사` 등의 작업에 도움을 받을 수 있다.

이후 `Express` 를 사용하고 `body-parser` 를 사용할것인데, 이 이외에도 완전히 새로 구축하는 일 없이 프로젝트에 추가할 수 있는 다양한 기능들을 제공하는 패키지들이 수천 종류 이상 있다.

`npm repository` 라는 모든 패키지들이 저장된 클라우드 패키지 저장소를 통해 사용할 수 있으며 이 패키지들은 노드와 함께 제공되는 도구인 `npm` 을 사용하여 간편하게 설치 및 관리할 수 있다.

개발 워크플로우의 속도를 올리기 위해 `작은 유틸리티 패키지` 를 설치해보자.
코드를 변경할 때마다 개발 서버를 종료하고 재시작해야 한다.
무언가 변경사항이 생길때마다 자동으로 서버가 재시작된다면 개발 워크플로우가 잘 이어질 것이다.

`npm install nodemon --save-dev` 으로 패키지를 설치해보자.
설치를 할때 `설치 방법 정의` 가 가능하며 `개발 중에 도움을 주는 개발 패키지 / 서버에서 실행중인 앱에 도움이 되는 프로덕션 의존성` 으로 정의가 가능하다.
`nodemon` 의 경우에는 개발 과정에서만 사용하기 때문에 `개발 의존성` 이 된다.

실제 서버에 앱을 설치하게되면 그곳에서는 필요가 없다. 인터넷 어딘가에서 실행 중인 실제 서버는 재시작해서는 안되며 그럴 필요도 없고, 서버의 코드는 동적으로 변경하지 않기 때문이다.

`npm` 에 어떤 종류의 의존성에 해당하는지를 알려줄 수도 있지만, 이건 큰 차이를 보이지는 않고 `--save` 만 입력하면 패키지가 프로덕션 의존성으로 설치되며 실제로 코드 안에서 사용하고 작업하는 패키지이다. `-dev` 를 추가하게 되면 단순히 개발 도중 사용하는 것임을 나타내고 `-g` 는 프로젝트에서는 설치하지 않겠지만 `머신 전체` 에 설치한다는 뜻이다.

설치를 완료하게되면 `node_modules / package-lock.json` 파일이 추가되고 `package.json` 파일이 업데이트된다.`devDependencies` 가 새로 추가되었다.
이 패키지는 `node_modules` 에 설치된다. 해당 폴더 안의 `nodemon` 을 살펴보게 되면 패키지의 소스코드 내지는 설치한 패키지의 빌드 버전에 해당하여 이 패키지에는 `피어(peer)` 의존성이 몇개 포함되어 있다.

그러니까 여러 의존성들이 설치되어 있는데 이 의존성들도 설치가 되어 있기 때문에 꽤 큰 `node_modules` 폴더가 되어버린것이다.

`package.json` 파일은 현재 설치했던 바로 그 버전들만을 저장하므로 만약 다른 사람들과 프로젝트를 공유하게 되면 최신 버전 대신 현재 설치한 버전을 사용할 수 있다.
