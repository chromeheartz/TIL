## Node Basic

### 05. 응답 전송

---

### 📌 응답 전송

이제 `응답 객체` 를 사용해보자.
`res` 는 데이터를 전혀 보유하지 않는 대신 `반송하길 원하는 데이터` 로 채우기 위해 사용할 수 있다. 몇 가지 메소드가 있는데,

#### setHeader

`setHeader` : 새로운 헤더를 설정할 수 있다. `Content-Type` 은 브라우저가 알고 이해하며 받아들이는 디폴트 헤더이고, 두 번째 값 혹은 인수로 `헤더 키` 에 대응하는 값을 설정하고 `text/html` 에 전송하거나 설정할 수 있다.
이렇게 되면 응답에 헤더를 붙이게 되고 응답의 일부가 될 콘텐츠 유형은 `HTML` 이라는 일련의 메타 정보를 전달하게 된다.
`res.setHeader('Content-Type', 'text/html')`

이후에는 직접 콘텐츠 유형 설정이 필요 없고 작업을 대신해주는 `패키지` 에 대해서도 알아볼 것이다.

#### write

`write` 는 res에 데이터를 기록할 수 있으며 기본적으로 다수의 라인을 통해 작동한다.
`HTML` 코드를 입력할 수 있고, 한줄이라면 `''` 으로 넣어도 되지만 멀티라인이 된다면 `백틱` 으로 작업할 수 있다.
또한 `res.write()` 를 한줄씩 넣어가면서 쓸 수도 있다.

```js
res.write("<html>");
res.write("<head><title>my first page</title></head>");
res.write("<body>hello Server ! </body>");
res.write("</html>");

res.end();
```

#### end

데이터를 모두 입력한 뒤에는 `end` 를 호출하고 이 시점부터는 더이상 아무것도 입력해서는 안된다.
`write` 를 계속 호출할 수 있지만 응답을 끝낸뒤에는 오류가 나게 된다.

![](https://velog.velcdn.com/images/chromeheartz/post/8b60888a-81d4-41c7-955c-f699c335bf94/image.png)

이렇게 작성하고 서버를 다시 시작해보면 `network` 탭에 첫번째 요청과 헤더가 보이는데 응답헤더에서 설정한 콘텐츠 유형이 보인다.
다른 헤더는 서버에 의해 설정된 기본값이다.
