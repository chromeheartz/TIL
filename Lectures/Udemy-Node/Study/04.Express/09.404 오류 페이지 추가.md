## Express.js

### 09. 404 ì˜¤ë¥˜ í˜ì´ì§€ ì¶”ê°€

---

### ğŸ“Œ 404 ì˜¤ë¥˜ í˜ì´ì§€ ì¶”ê°€

express.Routerë¥¼ ì‚¬ìš©í•´ë³´ì•˜ë‹¤.
ì´ë²ˆì—ëŠ” ì²˜ë¦¬ ë˜ì§€ ì•ŠëŠ” ëª‡ëª‡ ìš”ì²­ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ë° ì˜ˆë¥¼ ë“¤ì–´ ë¬´ì‘ìœ„ ë¬¸ìì—´ì„ ì…ë ¥í•˜ë©´ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ì´ëŸ° ê²½ìš°ì—ëŠ” `404 error í˜ì´ì§€` ê°€ ë‚˜íƒ€ë‚œë‹¤.
`app.js` íŒŒì¼ë¡œ ëŒì•„ê°€ì„œ ë¯¸ë“¤ì›¨ì–´ ë˜ëŠ” `Express` ê°€ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•´ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ìš”ì²­ì´ `ìœ„ì—ì„œ ì•„ë˜` ë¡œ ë‚´ë ¤ê°„ë‹¤ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•´ì•¼ í•œë‹¤.
ìì‹ ì„ ì²˜ë¦¬í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ë°œê²¬í•˜ë©´ ê±°ê¸°ë¡œ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

```node
router.use("/", (req, res, next) => {
  console.log("In another middleware!");
  res.send("<h1>Hello from Express!</h1>");
});
```

ì˜ˆë¥¼ ë“¤ì–´ `/` ëŠ” ë¼ìš°í„°ì˜ getë©”ì†Œë“œì— ë„ë‹¬í•˜ê²Œ ë˜ëŠ”ë°, `next` ë¥¼ í˜¸ì¶œí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—
ë‹¤ë¥¸ ë¯¸ë“¤ì›¨ì–´ëŠ” ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.
ê·¸ëŸ¬ë‚˜ ë§Œì•½ ì ë‹¹í•œ ë¯¸ë“¤ì›¨ì–´ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ ë§¨ ì•„ë˜ë¡œ ë‚´ë ¤ê°€ê²Œ ë˜ê³  ìš”ì²­ì€ ì²˜ë¦¬ë˜ì§€ ì•ŠëŠ”ë‹¤.
ë”°ë¼ì„œ `404 ì˜¤ë¥˜ í˜ì´ì§€` ë¥¼ ì „ì†¡í•˜ë ¤ë©´ ë§¨ ì•„ë˜ì— ëª¨ë“  ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.

ê²½ë¡œ í•„í„°ëŠ” í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ `/` ë¥¼ ì¶”ê°€í•´ë„ ì¢‹ë‹¤. ì–´ì°¨í”¼ `ê¸°ë³¸ê°’` ì´ê¸° ë•Œë¬¸.
ê·¸ë¦¬ê³  `req, res, next` ë¥¼ ì…ë ¥í•˜ë©´ ëœë‹¤.

```node
app.use((req, res, next) => {
  res.status(404).send("<h1>page not found</h1>");
});
```

`send` ì´ì „ì— `status` ë¼ëŠ” ë˜ í•˜ë‚˜ì˜ ë©”ì†Œë“œë¥¼ ì—°ê²°í•´ì£¼ë©´ ëœë‹¤.
ì—¬ê¸°ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ê²ƒì´ ì•„ë‹ˆê³  ë‹¤ë¥¸ `admin.js` ê°™ì€ë°ì„œë„ `status, setHeader` ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤. ëª¨ë“  ë©”ì†Œë“œ í˜¸ì¶œì„ ì—°ê³„í•  ìˆ˜ ìˆê³ , ë§ˆì§€ë§‰ì´ sendì´ê¸°ë§Œ í•˜ë©´ ëœë‹¤.

![](https://velog.velcdn.com/images/chromeheartz/post/0a424985-6fb4-4d5c-a16e-3acf0b4ac7cc/image.png)

ì´ì œ ë“±ë¡í•˜ì§€ ì•Šì€ ë”ë¯¸ ê²½ë¡œë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ 404í˜ì´ì§€ê°€ ë‚˜ì˜¤ê²Œ í•  ìˆ˜ ìˆë‹¤
