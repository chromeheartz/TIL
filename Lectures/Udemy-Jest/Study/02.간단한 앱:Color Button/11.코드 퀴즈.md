## ê°„ë‹¨í•œ ì•±: Color Button

### 11. ì½”ë“œ í€´ì¦ˆ
---------------------------------------------

### ğŸ“Œ Code Quiz! Colors with Spaces

ì´ì œëŠ” `Spec` ì´ ë³€í•´ì„œ `ë¹¨ê°„ìƒ‰ ëŒ€ì‹  ìì£¼ìƒ‰(MediumVioletRed)` ì¸ì§€, `íŒŒë€ìƒ‰ ëŒ€ì‹  ì•”ì²­ìƒ‰(MidnightBlue)` ë¡œ ë³€í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•´ë³¼ ê²ƒ.
ê¸°ì¡´ í…ŒìŠ¤íŠ¸ë¥¼ ì—…ë°ì´íŠ¸í•´ì„œ ì§„í–‰í•´ì•¼í•œë‹¤.

ë§ ê·¸ëŒ€ë¡œ `ìŠ¤í™(Specification)` ì´ ë³€í•´ì„œ í•„ìš”í•œ ì‘ì—…ì´ë¼ê³  ê°€ì •í•˜ì.
ìŠ¤í™ì´ ë³€ê²½ë  ë•Œë§ˆë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ ì—…ë°ì´íŠ¸ í•´ì•¼í•˜ëŠ”ë°, ì²´í¬ë°•ìŠ¤ ë¹„í™œì„±í™” ì—¬ë¶€ëŠ” ì—¬ì „íˆ í†µê³¼ê°€ ë˜ì–´ì•¼ í•œë‹¤.
ê¸°ì¡´ì— ì–¸ê¸‰í–ˆë˜ `ìë™(Free)` íšŒê·€ í…ŒìŠ¤íŠ¸ë¡œ ì½”ë“œì— ë³€ê²½í•  ë•Œë§ˆë‹¤ ì‘ì„±í–ˆë˜ ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

ì•±ì´ ë°”ë€ ìŠ¤í™ì— ë§ì¶”ì–´ ì‘ì—…ì„ í•˜ë„ë¡ ì—…ë°ì´íŠ¸í•˜ë©´ ëœë‹¤.
ì—¬ê¸°ì„œ í‹€ë ¸ë˜ ë¶€ë¶„ì€ buttonì˜ textì— `replaceCamelWithSpaces` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì„ ëˆ„ë½ì‹œì¼°ì—ˆë‹¤.

```jsx
// App.js
import logo from './logo.svg';
import './App.css';
import { useState } from 'react';

export function replaceCamelWithSpaces(colorName) {
  return colorName.replace(/\B([A-Z])\B/g, ` $1`);
}

function App() {
  const [buttonColor, setButtonColor] = useState("MediumVioletRed");
  const [disabled, setdisabled] = useState(false);

  const newButtonColor = buttonColor === "MediumVioletRed" ? "MidnightBlue" : "MediumVioletRed";

  return (
    <div>
      <button
        style={{ backgroundColor: disabled ? "gray" : buttonColor }}
        onClick={() => setButtonColor(newButtonColor)}
        disabled={disabled}
      >
        Change to {replaceCamelWithSpaces(newButtonColor)}
      </button>
      <br />
      <input
        type="checkbox"
        id="disable-button-checkbox"
        defaultChecked={disabled}
        onChange={(e) => setdisabled(e.target.checked)}
      />
      <label htmlFor="disable-button-checkbox">Disable button</label>
    </div>
  );
}

export default App;


// App.test.js
import { fireEvent, render, screen } from '@testing-library/react';
import App from './App';
import { replaceCamelWithSpaces } from './App';

test('button has correct initial color', () => {
  render(<App />);
  // ë²„íŠ¼ ì—¬ë¶€ / í…ìŠ¤íŠ¸ê°€ 'Change to Blue'ì¸ì§€ í™•ì¸
  const colorButton = screen.getByRole('button', { name: 'Change to Midnight Blue' })

  // ë°°ê²½ìƒ‰ì´ ë¹¨ê°„ìƒ‰ì¸ì§€ í™•ì¸
  expect(colorButton).toHaveStyle({ backgroundColor: 'MediumVioletRed' })

  // click button
  fireEvent.click(colorButton);

  // ë°°ê²½ì´ íŒŒë€ìƒ‰ì¸ì§€ í™•ì¸
  expect(colorButton).toHaveStyle({ backgroundColor: 'MidnightBlue' });

  // í…ìŠ¤íŠ¸ ë³€ê²½
  expect(colorButton).toHaveTextContent('Change to Medium Violet Red');
});

test('initial conditions', () => {
  render(<App />);
  // ë²„íŠ¼ì´ í™œì„±í™” ìƒíƒœë¡œ ì‹œì‘í•˜ëŠ”ì§€ ?
  const colorButton = screen.getByRole('button', { name: 'Change to Midnight Blue' });
  expect(colorButton).toBeEnabled();

  // ì²´í¬ë°•ìŠ¤ê°€ ì²´í¬ê°€ ì•ˆëœ ìƒíƒœë¡œ ì‹œì‘í•˜ëŠ”ì§€ ?
  const checkbox = screen.getByRole('checkbox');
  expect(checkbox).not.toBeChecked()
});

test('Checkbox disables button on first click and enables on second click', () => {
  render(<App />);
  const checkbox = screen.getByRole('checkbox', { name: 'Disable button' });
  const button = screen.getByRole('button', { name: 'Change to Midnight Blue' });

  fireEvent.click(checkbox);
  expect(button).toBeDisabled();

  fireEvent.click(checkbox);
  expect(button).toBeEnabled();
})

test('Disabled button has gray background and reverts to red', () => {
  render(<App />);
  const checkbox = screen.getByRole('checkbox', { name: 'Disable button' });
  const colorButton = screen.getByRole('button', {
    name: 'Change to Midnight Blue',
  });

  // disable button
  fireEvent.click(checkbox);
  expect(colorButton).toHaveStyle('background-color: gray');

  // re-enable button
  fireEvent.click(checkbox);
  expect(colorButton).toHaveStyle('background-color: MediumVioletRed');
});

test('Clicked disabled button has gray background and reverts to blue', () => {
  render(<App />);
  const checkbox = screen.getByRole('checkbox', { name: 'Disable button' });
  const colorButton = screen.getByRole('button', {
    name: 'Change to Midnight Blue',
  });

  // change to MidnightBlue
  fireEvent.click(colorButton);

  // disable button
  fireEvent.click(checkbox);
  expect(colorButton).toHaveStyle('background-color: gray');

  // re-enable button
  fireEvent.click(checkbox);
  expect(colorButton).toHaveStyle('background-color: MidnightBlue');
})

// Unit Testing Functions
describe('spaces before camel-case capital letters', () => {
  test('Works for no inner capital letters', () => {
    expect(replaceCamelWithSpaces('Red')).toBe('Red');
  });
  test('Works for one inner capital letter', () => {
    expect(replaceCamelWithSpaces('MidnightBlue')).toBe('Midnight Blue')
  });
  test('Works for multiple inner capital letters', () => {
    expect(replaceCamelWithSpaces('MediumVioletRed')).toBe('Medium Violet Red')
  });
})
```