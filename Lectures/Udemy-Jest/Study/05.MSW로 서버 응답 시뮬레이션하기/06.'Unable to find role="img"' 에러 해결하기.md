## MSWë¡œ ì„œë²„ ì‘ë‹µ ì‹œë®¬ë ˆì´ì…˜í•˜ê¸°

### 06. 'Unable to find role="img"' ì—ëŸ¬ í•´ê²°í•˜ê¸°

---

### ğŸ“Œ `Unable to find role="img"` ì—ëŸ¬

í…ŒìŠ¤íŠ¸ì—ì„œ ì¼ë°˜ì ì¸ ì—ëŸ¬ë¥¼ ì–»ê²Œ ë˜ëŠ”ë° ë‹¤ì–‘í•œ ì›ì¸ë“¤ì´ ìˆì„ ìˆ˜ ìˆë‹¤.
ë¬¸ì œê°€ ë  ê°€ëŠ¥ì„±ì´ ë†’ì€ ìˆœì„œì—ì„œ ë‚®ì€ ìˆœì„œë¡œ ë‚˜ì—´í–ˆìœ¼ë‹ˆ ë””ë²„ê¹…í• ë•Œ ì°¸ê³ í•˜ê¸°

#### # 1ï¸âƒ£ `ìŠ¤ì¿± URL` ì„ ì˜ëª» ì…ë ¥í•¨

```js
[MSW] Warning: captured a request without a matching request handler:
â€¢ GET https://localhost:3030/scoops
```

ìŠ¤ì¿± URLì´ ì˜ëª»ë˜ì—ˆì„ ê²½ìš° `ì—ëŸ¬ ë©”ì„¸ì§€` ê°€ í˜„ì¬ì™€ ê°™ì´ ë‚˜íƒ€ë‚œë‹¤.

```js
// src/mocks/handlers.js ì— ì˜ëª»ëœ ì½”ë“œ

rest.get('http://localhost:3030/scoops', (req, res, ctx) => {

// í˜¹ì€ src/pages/entry/Options.jsx:
.get(`http://localhost:3030/${optionType}`)
```

(ì°¸ê³ : ì˜ëª»ëœ ì½”ë“œëŠ” í•´ë‹¹ ë¼ì¸ì— ìˆì§€ë§Œ ì—¬ëŸ¬ ë‹¤ë¥¸ ì—ëŸ¬ ì¤‘ í•˜ë‚˜ê°€ ìˆì„ ìˆ˜ ìˆë‹¤)

> í•´ê²° ë°©ë²•: í•¸ë“¤ëŸ¬ URLì€ Options.jsxì˜ axiosì— ì „ë‹¬ëœ URLê³¼ ì •í™•íˆ ì¼ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

ì¼ì¹˜í•˜ì§€ ì•Šì„ ìˆ˜ ìˆëŠ” ê°€ëŠ¥í•œ ì´ìœ :

- `src/pages/entry/tests/Options.test.jsx` ì—ì„œ ì •í™•íˆëŠ” `scoops ì•„ë‹Œ optionType í”„ë¡œí¼í‹°` ë¥¼ ì „ë‹¬í•¨
- í•¸ë“¤ëŸ¬ URLì—ì„œ `scoops ì—”ë“œí¬ì¸íŠ¸` ë¥¼ ì˜ëª» ì…ë ¥í•¨
- í•œ ê³³ì—ì„œëŠ” `http` ë¥¼ ì‚¬ìš©í•˜ê³  ë‹¤ë¥¸ ê³³ì—ì„œëŠ” `https` ë¥¼ ì‚¬ìš©í•¨
- í¬íŠ¸ë¥¼ ì˜ëª» ì…ë ¥í•˜ì—¬ `ë‘ ê°œì˜ ìœ„ì¹˜` ë¡œ ë‚˜ëˆ„ì–´ì§

#### # 2ï¸âƒ£ `alt` ì†ì„± `name` ì˜µì…˜ì„ ì˜ ëª» ì…ë ¥í•¨

í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ `img` ì—­í• ì„ ì°¾ì„ ìˆ˜ ìˆì§€ë§Œ ì§€ì •ëœ `name` ì˜µì…˜ì„ ê°€ì§„ ì—­í• ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ ì—ëŸ¬ê°€ `Unable to find role="img"` ë¼ëŠ” ê²ƒì€ ì¡°ê¸ˆ ë§ì§€ ì•Šë‹¤.

```js
// src/pages/entry/ScoopOption.jsx
alt={`${name} scoop`}

// src/pages/entry/tests/Options.test.jsx
const scoopImages = await screen.findAllByRole('img', { name: /scopp$/i };
```

`${name}` ë’¤ì˜ ë¬¸ìì—´ì€ `name ì˜µì…˜ì˜ ì •ê·œì‹ ê°’` ê³¼ ì¼ì¹˜í•´ì•¼ í•œë‹¤.

#### # 3ï¸âƒ£ í•¸ë“¤ëŸ¬ ë°˜í™˜ ê°’ì—ì„œ `res` ìƒëµ

```js
// src/mocks/handlers.js
rest.get('http://localhost:3030/scoops', (req, res, ctx) => {
  return (
    ctx.json([
      { name: 'Chocolate', imagePath: '/images/chocolate.png' },
      { name: 'Vanilla', imagePath: '/images/vanilla.png' },
    ])
  );
}),

// return ë’¤ ê´„í˜¸ ì•ì— res ì¶”ê°€
rest.get('http://localhost:3030/scoops', (req, res, ctx) => {
 return res(
   ctx.json([
     { name: 'Chocolate', imagePath: '/images/chocolate.png' },
     { name: 'Vanilla', imagePath: '/images/vanilla.png' },
   ])
 );
}),
```

#### # 4ï¸âƒ£ ScoopOption í”„ë¡œí¼í‹°ê°€ êµ¬ì¡°í™”ë˜ì§€ ì•ŠìŒ

```js
// src/pages/entry/ScoopOption.jsx
import ScoopOption from "./Options";

// ìˆ˜ì •
import ScoopOption from "./ScoopOption";
```
