## 변이(Mutation): React Query로 서버 데이터 업데이트하기
### 51.요약 : 변이(Mutation)
<hr>

### 📌 Mutation Summary

- `변이를 완료한 뒤` 서버와 동기화한 상태로 데이터를 유지하는 법에 대한 내용을 보았다.
  - 쿼리를 `무효화` 하면 캐시를 지우고 `리패치` 를 시작
  - `setQueryData` 를 이용해서 변이 함수로부터 `반환된 데이터` 로 캐시를 업데이트 할 수 있다.
  - `낙관적 업데이트` . 데이터를 사용하는 경우 반응성을 개선하는 낙관적 업데이트를 진행할 수도 있었다.
    - 즉, 변이를 전송하고 발신 쿼리를 모두 취소하여 낙관적 업데이트를 덮어쓰는 `서버측의 옛 데이터` 를 받지 않는것
    - 사용자가 입력한 데이터로 캐시를 낙관적 업데이트
    - `롤백` 할 경우를 대비해서 기존의 값은 저장
    - 변이가 실패한 경우 롤백을 위해 `에러 핸들러` 에 해당 값을 사용