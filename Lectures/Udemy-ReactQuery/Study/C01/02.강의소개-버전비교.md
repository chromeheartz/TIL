## ì¿¼ë¦¬ ìƒì„± ë° ë¡œë”©/ì—ëŸ¬ ìƒíƒœ
### 02.ê°•ì˜ ì†Œê°œ / 03.React Query ë²„ì „ 3 ë° ë²„ì „ 4 ë¹„êµ
---------------------------------------------

### ğŸ“Œ í•„ìˆ˜ ì¡°ê±´

- `React hooks` : React QueryëŠ” í›…ì— ëŒ€í•œ ì˜ì¡´ë„ê°€ ë†’ì€ í¸ì´ë‹¤.
- `Jest / Testing Library` : í…ŒìŠ¤íŠ¸ ì„¹ì…˜ì˜ ê²½ìš° `Jest` / `Testing Library` ë¥¼ ì–´ëŠì •ë„ ì•Œê³  ìˆì–´ì•¼ ì§„í–‰ì´ ê°€ëŠ¥í•˜ë‹¤. 

### ğŸ“Œ REST and Client Rendering

- `Rest API` ë¥¼ ì‚¬ìš©í•œë‹¤.
`GraphQL` ê³¼ ë§¤ìš° ìœ ì‚¬í•œ êµ¬ë¬¸ì„ ì‚¬ìš©í•˜ëŠ”ë° React Queryì— `ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜` ë§Œ ì¡°ê¸ˆ ë‹¤ë¥¼ ë¿ì´ë‹¤
GraphQLìš© í•¨ìˆ˜ë¥¼ RESTìš©ìœ¼ë¡œ ë°”ê¾¸ëŠ”ê²ƒ ë¿

- `Client Side Rendering`
ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§(SSR)ê³¼ ì°¨ì´ì ì„ ê³ ë ¤í•´ì•¼ í•œë‹¤.
[`SSR ë¬¸ì„œ ë§í¬`]

### ğŸ“Œ React Query ë²„ì „ 3 ë° ë²„ì „ 4 ë¹„êµ

ì´ ê°•ì˜ëŠ” `React Query ë²„ì „3` ìœ¼ë¡œ ì‘ì„± ë˜ì—ˆë‹¤.
`2022/07/20` ì— `React Query ë²„ì „4` ê°€ ë¦´ë¦¬ìŠ¤ ë˜ì—ˆë‹¤. (`TanStack Query` ë¼ê³ ë„ í•¨)

ë²„ì „ 3ì„ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ë¬¸ì„ ì‚¬ìš©í•´ ì„¤ì¹˜
```
npm install react-query@^3
```

ì´ ê°•ì˜ì—ì„œ [`React Query ë²„ì „4`] ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì˜ ì°¨ì´ì .
- `v4` ì—ì„œ ì„¤ì¹˜ ë° ê°€ì ¸ì˜¤ê¸°ë¥¼ ìˆ˜í–‰í•˜ë ¤ë©´ `react-query` ëŒ€ì‹  `@tanstack/react-query` ë¥¼ ê¶Œì¥
- `ì¿¼ë¦¬ í‚¤` ëŠ” [`ë°°ì—´`] ì´ì—¬ì•¼ í•œë‹¤. ê·¸ëŸ¬ë‹ˆ ê³¼ì •ì—ì„œ ì¿¼ë¦¬ í‚¤ ë°°ì—´ ëŒ€ì‹  `ë¬¸ìì—´ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°` ë°°ì—´ë¡œ ë¬¶ì–´ì•¼ í•œë‹¤.
- [`ê°œë°œì ë„êµ¬ë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜`] í•˜ê³  `@tanstack/react-query-devtools` ì—ì„œ ê°€ì ¸ì™€ì•¼ í•œë‹¤.
- `setLogger(í…ŒìŠ¤íŠ¸ ì„¹ì…˜ì—ì„œ ì‚¬ìš©)` ê°€ ì œê±° ë˜ì—ˆë‹¤. ëŒ€ì‹  [`QueryClient ì˜µì…˜ìœ¼ë¡œ ë¡œê±°`] ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤.
- [`setQueryDataì—ì„œ onSuccessê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤`] ì´ë¡œ ì¸í•´ ê³¼ì •ì„ ê²Œì‹œí•œ í›„ì— ë‹¤ë¥¸ ë°©í–¥ìœ¼ë¡œ ë™ì‘ì´ ë³€ê²½ë˜ì (`ì´ì „ì—ëŠ” ê·¸ëŸ¬ì§€ ì•Šì•˜ìœ¼ë‚˜ setQueryData ì´í›„ì— onSuccessë¥¼ í˜¸ì¶œí•˜ê¸° ì‹œì‘`) [`í˜¼ë€`]ì´ ìƒê²¨ ê²°êµ­ ì´ ë³€ê²½ ì‚¬í•­ì„ ê³ ë ¤í•˜ë„ë¡ ê³¼ì •ì„ ì—…ë°ì´íŠ¸ í–ˆë‹¤. 
`React Query ë²„ì „4ì—ì„œ ê°€ì¥ ì¡°ì •í•˜ê¸° ì–´ë ¤ìš´ ë¬¸ì œì— ì†í•  í…ë°`, ì£¼ë¡œ ì´ ì  ë•Œë¬¸ì— ë²„ì „4ë¡œ ê°•ì˜ë¥¼ ì—…ë°ì´íŠ¸í•˜ê¸° ì „ê¹Œì§€ëŠ” `ë²„ì „3` ì„ ê³„ì† ì‚¬ìš©í•  ê²ƒì„ ê¶Œê³ í•œë‹¤.

### ğŸ“Œ React Query v4 ê³¼ì • ë¦¬í¬ì§€í† ë¦¬ ë¸Œëœì¹˜

`v4` ì—ì„œëŠ” ì•± ì°¨ì´ì ì„ ëª¨ë‘ ë³´ì—¬ë“œë¦¬ë ¤ê³  `react-query-v4` ë¸Œëœì¹˜ë¥¼ ë§Œë“¤ì—ˆë‹¤.

#### â—ï¸ í”„ë¡œì íŠ¸ ì½”ë“œ ì°¨ì´ì 
- [`blog-em-ipsum`]
- [`infinite-swapi`]
- [`lazy-days-spa`]

[`SSR ë¬¸ì„œ ë§í¬`]: (https://tanstack.com/query/latest/docs/react/guides/ssr?from=reactQueryV3&original=https%3A%2F%2Ftanstack.com%2Fquery%2Fv3%2Fdocs%2Fguides%2Fssr)

[`React Query ë²„ì „4`]: (https://tanstack.com/query/v4/docs/react/guides/migrating-to-react-query-4#breaking-changes)

[`ë°°ì—´`]: (https://tanstack.com/query/v4/docs/react/guides/migrating-to-react-query-4#query-keys-and-mutation-keys-need-to-be-an-array)

[`ê°œë°œì ë„êµ¬ë¥¼ ë³„ë„ë¡œ ì„¤ì¹˜`]: (https://tanstack.com/query/v4/docs/react/devtools)

[`QueryClient ì˜µì…˜ìœ¼ë¡œ ë¡œê±°`]: (https://tanstack.com/query/v4/docs/react/guides/migrating-to-react-query-4#setlogger-is-removed)

[`setQueryDataì—ì„œ onSuccessê°€ í˜¸ì¶œë˜ì§€ ì•ŠëŠ”ë‹¤`]: (https://tanstack.com/query/v4/docs/react/guides/migrating-to-react-query-4#onsuccess-is-no-longer-called-from-setquerydata)

[`í˜¼ë€`]: (https://tanstack.com/query/v4/docs/react/guides/migrating-to-react-query-4#onsuccess-is-no-longer-called-from-setquerydata)

[`blog-em-ipsum`]: (https://github.com/bonnie/udemy-REACT-QUERY/pull/15/commits/716636de7e49920f8c2e365cf2e7f74dfd81681e)

[`infinite-swapi`]: (https://github.com/bonnie/udemy-REACT-QUERY/pull/15/commits/e3f9e708fa1858e32762595b57f94d26a24e2058)

[`lazy-days-spa`]: (https://github.com/bonnie/udemy-REACT-QUERY/pull/15/commits/195286d61c506bae85d3e217319b92c35c3d58a7)

