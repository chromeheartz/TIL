## Data Mutation

### 02. 폼 액션 설정

---

### 📌 폼 액션 설정

`서버 액션 개념` 을 어떻게 사용해서 데이터 제출을 처리할 수 있을까?

#### 일단 이 개념을 이해해야 한다.

`서버 액션` 은 사실 `NextJS` 특유의 기능이 아닌 이 기능이 작동하는 환경에서 `React` 를 사용할때 `React` 자체에서 지원하는 기능이다.
순수한 클라이언트 측 리액트 프로젝트에는 해당되지 않지만 `NextJS` 와 같은 프레임워크로 `잠금 해제` 되는 기능이다.

#### 그렇다면 서버 액션에는 어떤 의미가 숨어 있을까?

알기 위해서는 `app/news-post/page.js` 의 `form` 을 제출 처리해보면 된다.
일단 서버 액션 없이 제출 처리를 해보자. `formAction` 을 써서.

`formAction` 은 리액트 자체에서 내장된 또 다른 기능이다.
서버 액션과는 차이가 있는데, 리액트가 클라이언트 또는 서버 측에서 양식 제출을 처리하는 방법을 제공하는데, 그 과정이 더 쉽고 간단해진 것이고, `formAction` 은 단순히 `내가 정의하는 함수` 이다.

`form의 action` 은 리액트를 쓰지 않고도 사용할 수 있는데 결국 양식 요소에 설정되는 액션 속성이 `URL` 을 정의한다. 양식이 제출되면 브라우저가 자동으로 요청을 보낼 `URL`

`NextJS` 를 사용할 경우에는 이 `action` 이 다르게 동작한다.
URL대신 함수를 받아들이고 브라우저의 기본 동작을 막아 `URL로 요청` 을 전송하지 못하게 하면서, 양식이 제출될 때 그 함수를 작동시킨다.

그 다음에 함수에 리액트가 자동으로 `formData` 객체를 제공해서 자동적으로 그 객체를 함수에 인자로 전달하면 된다. 또한 요소들에 설정된 `name` 프로퍼티로 값을 얻어올 수 있다.
`formAction` 을 사용하는 경우에는 값을 추출하려 하는 `모든 입력값` 에 `name` 을 지정해야 한다.`get` 메소드에서 사용해야 하기 때문. `get('title')` 같은 형식으로.

![Image](https://github.com/user-attachments/assets/33574b42-737f-405c-b36f-571baaf95e1a)

<img width="960" alt="Image" src="https://github.com/user-attachments/assets/164b8804-16f5-4bf9-bf24-15680ad6c095" />

하지만 에러가 발생한다. 이 함수에서는 `서버를 사용해라` 라는 오류가 뜬다.
아직은 이 기능이 안정적이지 않을 수 있다. 하지만 서버 액션을 향한 첫 단계 이기 때문에 괜찮다. 설사 여기서 작동한다 하더라도 이건 클라이언트에서만 실행된다. 따라서 데이터를 수집하더라도 전부 `백엔드` 로 수동으로 보내주어야 한다. `fetch` 를 사용해서.
