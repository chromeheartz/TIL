## NextJS Routing & Page Rendering

### 08. μ„λ²„ VS ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ

---

### π“ μ„λ²„ VS ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ

μ„λ²„ λ° ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ μ ν•μ μ΅΄μ¬ μ΄μ μ™€ μ‘λ™ λ°©μ‹ μ–Έμ  μ–΄λ–¤κ²ƒμ„ μ‚¬μ©ν•΄μ•Ό ν•λ”μ§€ μ΄ν•΄ν•λ”κ² μ¤‘μ”ν•λ‹¤.
`NextJS` μ•±μ— μλ”
`μ„λ²„ μ»΄ν¬λ„νΈ` λ” μ„λ²„μ—μ„λ§ λ λ”λ§ λκΈ° λ•λ¬Έμ— μ»΄ν¬λ„νΈμ μ „μ²΄ κΈ°λ¥μ΄ `μ„λ²„μ—μ„λ§` μ‹¤ν–‰λλ©°, ν΄λΌμ΄μ–ΈνΈμ—μ„λ” μ λ€ μ‹¤ν–‰λμ§€ μ•λ”λ‹¤.
`ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ` λ„ μ„λ²„μ—μ„ λ¨Όμ € λ λ”λ§λμ§€λ§ `ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“` μ—μ„λ„ μ‹¤ν–‰λ  μ μλ‹¤. λ‹¤μ‹ λ§ν•΄ λΈλΌμ°μ €μ—μ„λ„.

μ΄λ° λ‘ μ μ΄ λ‹¤λ¥Έλ°, `error.js` νμΌμ—μ„ μ •μλ μ»΄ν¬λ„νΈλ” `ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ` μ—¬μ•Ό ν•λ‹¤.
`NextJS` μ•±μ—μ„λ” μ„λ²„μƒμ λ¬Έμ λ΅ μ¤λ¥κ°€ λ°μƒν•  μλ„ μμ§€λ§ `ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μ½”λ“` κ°€ μ‹¤ν¨ν•  κ°€λ¥μ„±λ„ μκΈ° λ•λ¬Έμ—, `μ¤λ¥ ν΄λ°± μ»΄ν¬λ„νΈ` λ” ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“μ—μ„ νΈμ¶μ΄ κ°€λ¥ν•΄μ•Ό ν•λ‹¤.

ν„μ¬ `νμ΄μ§€ μ»΄ν¬λ„νΈ` μ™€ `λ‹¤λ¥Έ μ»΄ν¬λ„νΈ` λ“¤ λ¨λ‘ μ„λ²„ μ»΄ν¬λ„νΈμ΄λ‹¤.
`console.log` λ΅ μ°μ–΄μ„ ν™•μΈμ„ ν•΄λ³΄λ©΄ `λΈλΌμ°μ € κ°λ°μ λ„κµ¬ μ½μ†”` μ—μ„λ” λ‚μ¤μ§€ μ•κ³  κ°λ° μ„λ²„λ¥Ό μ‹¤ν–‰μ¤‘μΈ `ν„°λ―Έλ„` μ—μ„ μ°νλ”κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.

![α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2025-01-07 α„‹α…©α„α…¥α†« 11 13 46](https://github.com/user-attachments/assets/c2b88b72-7edc-48e5-bfcd-72bdd92d65df)

μ΄κ²ƒμ€ `μ„λ²„ μ‚¬μ΄λ“ μ½”λ“` κ°€ μƒμ„±ν• `λ΅κ·Έ` μ΄κΈ° λ•λ¬Έμ΄λ‹¤.

> β… κΈ°λ³Έμ μΌλ΅ `NextJS` μ—μ„λ” `λ¨λ“  μ»΄ν¬λ„νΈλ¥Ό μ„λ²„ μ»΄ν¬λ„νΈ` λ΅ μ μ§€ν•΄μ•Όν•κ³ , νΉλ³„ν• μ΄μ κ°€ μ—†λ‹¤λ©΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ΅ λ°”κΏ”μ„  μ•λλ‹¤. ν΄λΌμ΄μ–ΈνΈμ—μ„ μ½”λ“λ¥Ό λ΅λ”©ν•  ν•„μ”κ°€ μ—†λ‹¤λ©΄ μ‹¤ν–‰ν•  ν•„μ”κ°€ μ—†κΈ° λ•λ¬Έ.
> λ¬΄μ—‡μ΄λ“  μ„λ²„μ—μ„ λ λ”λ§ν•λ” κ²ƒμ΄ λ” λ‚«λ‹¤.

ν•μ§€λ§ μ—λ¬ νμ΄μ§€μ²λΌ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ ν•„μ”ν•  λ•κ°€ μλ‹¤.

#### κ·ΈλΌ μ–Έμ  ν•„μ”ν• κΉ?

```jsx
// components/main-header.js
import Link from "next/link";

export default function MainHeader() {
  const path = usePathname();
  return (
    <header id="main-header">
      <div id="logo">
        <Link href="/">NextNews</Link>
      </div>
      <nav>
        <ul>
          <li>
            <Link
              href="/news"
              className={path.startsWith("/news") ? "active" : undefined}
            >
              News
            </Link>
          </li>
          <li>
            <Link
              href="/archive"
              className={path.startsWith("/archive") ? "active" : undefined}
            >
              Archive
            </Link>
          </li>
        </ul>
      </nav>
    </header>
  );
}
```

μƒλ΅μ΄ μ•„μΉ΄μ΄λΈ λ§ν¬λ¥Ό λ§λ“¤μ—λ”λ° μ΄λ• `ν™μ„±ν™”λ λ§ν¬` λ¥Ό κ°•μ΅°ν•κ³  μ‹¶λ‹¤.
λ§ν¬λ¥Ό κ°•μ΅°ν•λ ¤λ©΄ ν„μ¬ ν™μ„± κ²½λ΅λ¥Ό μ•μ•„μ•Ό ν•λ”λ° `usePathname` ν›…μ„ κ°€μ Έμ¬ μ μκ³ , λ¬Έμμ—΄μ΄ λ  κ²½λ΅ κ°’μ΄ μ£Όμ–΄μ§„λ‹¤.
`className` μ—μ„λ„ κ°κ° κ²½λ΅μ— λ§λ‹¤λ©΄ `active` λΌλ” ν΄λμ¤λ¥Ό λ¶™μ—¬μ£Όλ„λ΅ ν•λ”λ° ν„μ¬ μƒνƒλ΅λΌλ©΄ μ¤λ¥κ°€ λ‚μ¤κ² λλ‹¤. μ™λƒν•λ©΄ `usePathname` μ€ `ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ` μ—μ„λ§ μ‘λ™λκΈ° λ•λ¬Έμ΄λ‹¤.
λ”°λΌμ„ `use client` μ§€μ‹μ–΄λ¥Ό μ¶”κ°€ν•΄μ•Όν•λ‹¤.

ν•μ§€λ§ μ΄ λ°©λ²•μ€ `κ²°μ ` μ΄ μλ‹¤.

> β… μ‘λ™μ€ ν•μ§€λ§ μ—¬λ¬ λ§ν¬μ—…μ΄ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈ λ§ν¬μ—…μΌλ΅ λ³€ν™λμ—λ‹¤. κ·Έλ΄ν•„μ”κ°€ μ—†λ”λ°λ„.

`use client` λ¥Ό μ‚¬μ©ν•κ²ƒμ€ μ‚¬μ‹¤ `usePathname` λ•λ¬ΈμΈλ°, μ΄λ” `Link` μ»΄ν¬λ„νΈ λ•λ¬Έμ— ν•„μ”ν•κ²ƒμ΄κ³ , ν•΄λ‹Ή μ»΄ν¬λ„νΈμ— μ΅°κ±΄λ¶€λ΅ `ν΄λμ¤` λ¥Ό μ¶”κ°€ν•λ ¤λ” κ²ƒ λΏμ΄λ‹¤.
μ΄λ¬ν• κ²½μ° λΏλ§ μ•„λ‹λΌ μΌλ°μ μΌλ΅ `NextJS` λ¥Ό μ‚¬μ©ν•  λ• ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ μ½”λ“λ‚ ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈκ°€ ν•„μ”ν• μ½”λ“λ¥Ό β­οΈ `μ•„μ›ƒμ†μ‹±` ν•λ” κ²ƒμ΄ μΆ‹λ‹¤.

> ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό μµλ€ν• μ‘κ² ν•΄μ„ μ»΄ν¬λ„νΈ λ΅μ§κ³Ό λ§ν¬μ—… λ€λ¶€λ¶„μ΄ μ„λ²„ μ»΄ν¬λ„νΈ μμ—­μ— λ‚¨μ•„μλ„λ΅.

λ”°λΌμ„ `nav-link.js` λΌλ” νμΌλ΅ λ”°λ΅ λΉΌμ¤€λ‹¤.
`Link` λ¶€λ¶„λ§ λ”°λ΅ λΉΌμ¤μ„ μ‘μ—…ν•λ©΄ λλ‹¤. ν•„μ”ν• κ²ƒλ“¤μ„ importν•΄μ£Όκ³ , `href, children` ν”„λ΅νΌν‹°λ¥Ό λ°›μ•„μ„ ν•΄λ‹Ή href ν”„λ΅νΌν‹°λ¥Ό ν†µν•΄ λ°›μ€ κ°’μ΄ λλ„λ΅ μ„¤μ •ν•΄μ£Όλ©΄ λλ‹¤.
Link ν…μ¤νΈ μ‚¬μ΄μ ν…μ¤νΈλ” `children` μΌλ΅ λ°›μ€ μ½ν…μΈ κ°€ λ¨.

```jsx
// components/nav-link.js
"use client";
import Link from "next/link";
import { usePathname } from "next/navigation";

export default function NavLink({ href, children }) {
  const path = usePathname();

  return (
    <Link href={href} className={path.startsWith(href) ? "active" : undefined}>
      {children}
    </Link>
  );
}
```

> β­οΈ `NextJS` μ»΄ν¬λ„νΈλ¥Ό κµ¬μ¶•ν•  λ• μ•μ•„μ•Όν•  ν”ν• ν¨ν„΄μ΄λ‹¤.
> ν΄λΌμ΄μ–ΈνΈ μ»΄ν¬λ„νΈλ¥Ό κΌ­ κµ¬μ¶•ν•΄μ•Ό ν•λ‹¤λ©΄ `μµλ€ν• μ‘κ² λ§λ“¤μ`
