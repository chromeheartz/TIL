## NextJS Routing & Page Rendering

### 02. 병렬 라우트 설정 및 사용

---

### 📌 병렬 라우트

애플리케이션에서의 새로운 종류의 `라우트` 와 `라우팅 패턴` 을 추가할 것이다.

`병렬 라우트` 를 추가해볼 것이다.
뉴스 페이지와 형제처럼 작동해야 하는데, 따라서 `archive` 폴더를 만들것이다.
`/archive` 로 탐색할 때 보여주려는 아카이브 페이지는 사실 `병렬 페이지 두 개` 로 다시 말해 병렬 라우트 두개로 구성되어야 한다.

> 병렬 라우트는 별도의 경로를 가지는 라우트 `두 개의 콘텐츠` 를 동일한 페이지에서 렌더링 하는 기능이다.

병렬 라우트를 설정하려면 `병렬 라우트` 를 포함하려는 경로에 `레이아웃` 파일을 추가해야 한다.
또한 병렬 라우트마다 `하위 폴더 하나` 를 추가해야 함.

> ✅ `@` 기호로 시작하는 폴더여야 함

`@archive` 로 만들었는데 이 아카이브 페이지에서 영역이 2개가 필요하다고 가정해보자.
`연도 / 월로 탐색할 수 있는 뉴스 아카이브` 를 두고 그 옆에는 아카이브에서 선택한 뉴스와 별개인 `최신 뉴스 목록` 을 둔다고 해보자. 따라서 `@latest` 로 폴더를 만들자

![스크린샷 2024-12-22 오후 8 58 54](https://github.com/user-attachments/assets/8790cd7c-e30d-4e62-a79e-f0c3d58ccc4d)

각각 `page.js` 를 추가. 페이지를 병렬 라우트로 설정할 예정이고, 폴더에 `명명 규칙` 을 사용하고 있기 때문에 두 페이지를 동시에 표시할 수 있다.
각각 page.js에 기본 함수를 만들어주고 두 페이지가 동시에 표시되도록 하려면 `layout.js` 파일에서 설정할 수 있다.

`layout.js` 에서 레이아웃 컴포넌트 함수로 특별한 일이 생길 것이다.
일반적으로 `레이아웃 컴포넌트 함수` 는 `children` 프로퍼티를 받는다.
모든 `React` 컴포넌트가 받는 건 아니지만 레이아웃 컴포넌트에서는 자식 프로퍼티를 통해 액세스할 수 있게 된 콘텐츠는 페이지의 콘텐츠가 될 것이고 현재 화면에 표시된다.

만약 layout.js 파일에서 작업할 때 `병렬 라우트 폴더 (@기호로 시작하는 폴더)` 가 옆에 있는 경우 `children` 프로퍼티 뿐만 아니라 병렬 라우트마다 프로퍼티가 있을 것이다.
⭐️ `@` 뒤에 작성한 프로퍼티 이름과 동일한 이름을 가진 프로퍼티

> 따라서 `@archive` 라우트의 콘텐츠는 `archive` 프로퍼티를 통해 / `@latest` 라우트의 콘텐츠는 `latest` 프로퍼티를 통해 사용 가능하다.

```jsx
export default function ArchiveLayout({ archive, latest }) {
  return (
    <div>
      <h1>News Archive</h1>
      <section id="archive-filter">{archive}</section>
      <section id="archive-latest">{latest}</section>
    </div>
  );
}
```

해당 형식대로 작업을 해보고 `/archive` 로 이동해보면
두 페이지의 콘텐츠를 볼 수 있다.

`단일 라우트` 에서 작업 중이지만 `병렬 라우팅` 을 사용하기 때문에 두 페이지의 콘텐츠가 한꺼번에 보이는 것이다.
