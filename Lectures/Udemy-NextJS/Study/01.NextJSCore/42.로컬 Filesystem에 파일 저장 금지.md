## NextJS Core (App router)

### 42. 로컬 Filesystem에 파일 저장 금지

---

### 📌 로컬 FileSystem에 파일 저장 금지

배포환경 서버에서 새로운 음식을 등록하면 왜 이미지가 보이지 않을까?

> 우리가 이미지를 `public` 폴더 안의 `images` 폴더에 저장하고 있기 때문이다.

이 방식의 문제점은 개발 환경에서는 이 폴더에 접근이 가능하지만 배포 환경에서는 `.next` 폴더에 복사가 되고 이 폴더 안에 캐싱된 페이지 등이 모두 들어있고 `NextJS` 배포 환경에서 이 폴더가 사용되기 때문이다.
그런데 새로운 이미지를 `public` 폴더에 저장하게 되면 `배포 환경 서버` 는 이 폴더에 관여하지 않기 때문에 무시된다.

그러므로 다음 프로젝트를 배포할때 이 `public` 폴더는 엄밀히 마해 배포하지 않아도 된다.
그러면 우리 `app` 에서는 이미지를 `public` 에 저장하기 때문에 문제가 된다.

이러한 동작은 `NextJS` 공식 문서에 서명되어 있다.

> 런타임에 생성된 모든 파일은 `AWS S3` 와같은파일 저장 서비스를 이용하는것을 추천하고있습니다.

> \*\*\*\* 👉 [``]

[``]:
