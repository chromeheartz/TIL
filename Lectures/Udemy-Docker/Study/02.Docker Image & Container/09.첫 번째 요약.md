## Docker Image & Container

### 09. 첫 번째 요약

---

### 📌 요약

도커는 결국 우리의 코드에 관한 모든 것이다.
구축하고 있는 애플리케이션인데, 예를 들어 웹 애플리케이션의 경우 이를 구성하는 코드를 `이미지` 라 불리우는 곳에 집어 넣는다. 그리고 코드를 여기에 넣을 뿐만 아니라 그 코드를 실행하는데 필요한 도구인 `실행 환경` 또한 넣어준다.

`Dockerfile` 을 생성하여 이런 이미지를 생성할 수 있는데, 세부적인 명령을 그곳에서 제공하고, 이미지에 무엇을 집어넣을 것인지, 어떤 이미지를 사용할 것인지, 어떤 코드와 종속성이 복사될 것인지, 내부 포트를 열을것인지 등등을 설정할 수 있다.

도커는 궁극적으로 `이미지` 가 아니라 `컨테이너` 에 관한 것이다. 하지만 이미지 또한 중요한 빌딩 블록이며 컨테이너의 `blueprint / template` 이다.

그런 다음 인스턴스화하여 `이미지에 기반한 여러 컨테이너` 를 실행할 수 있다.
컨테이너는 이미지를 기반으로 하는 `실행 애플리케이션` 이기 떄문에, 일단 실행되면 실행 중인 다른 컨테이션과는 독립적인 `standalone` 이다.

중요한 것은 컨테이너가 이미지에서 코드와 환경을 새 컨테이너로 복사하거나,새 파일로 복사하지 않는다는 것이다. 컨테이너는 이미지에 저장된 환경을 사용하는데, 그런 다음 그 위에 `부가 레이어` 를 추가한다.

예를 들어 노드 서버 프로세스는 애플리케이션을 실행하기 위해 `리소스 / 메모리` 등을 할당하고, 코드를 복사하지는 않는다. 따라서 코드와 노드 환경은 세번이나 복사되지 않는것이다.
하나의 이미지와 두 개의 컨테이너가 있는 경우 이미지와 컨테이너에 한번만 존재하므로 이미지와 그 안의 코드를 활용한다.

> 앱을 포함하는 `격리된 환경` 그 앱을 실행하는데 필요한 모든 것, 모든 환경, `node js` 와 같은 모든 도구 그러한 것을 격리된 컨테이너 내부에 모두 포함하는 것이 도커이다.
