## Docker Image & Container

### 21. 요약

---

### 📌 요약

도커로 작업할 때 알아야할 `핵심적인 기초 사항` 에 대해 배웠다.
가장 중요한 포인트와 도커의 핵심 중 하나는 `도커는 이미지와 컨테이너에 관한 모든 것` 이라는 점이다.

이미지는 템플릿, 컨테이너의 블루프린트이며 하나의 동일한 이미지를 기반으로 하는 여러 컨테이너를 실행할 수 있다.
다양한 컨테이너를 위해 여러 이미지를 가질 수도 있고, 이러한 컨테이너가 이미지 위에 작은 `레이어` 로 효율적인 방식으로 실행되는 것도 확인했다.

컨테이너가 아닌 이미지에 저장된 코드와 환경을 사용하여 이미지의 도움으로 설정 / 구성된 앱을 실행한다.

> ✅ 이미지와 컨테이너 간에 작업이 이런식으로 분할 되는 것이다.

`DockerFile` 에 넣은 모든 명령은 레이어로 만드는데, 이 레이어 개념은 빌드 속도를 최적화하기 위해 존재한다. 도커는 레이어를 캐시할 수 있으며, 해당 단계에서 변경된 사항이 없으면 레이어를 다시 실행할 필요가 없기 때문이다.
이것은 재사용성에도 도움이 된다. 예를들어 `Node` 를 기반으로 하는 이미지를 공유하는 경우, 도커는 이 Node 이미지가 이미 존재하며 변경되지 않았음을 알 수 있다.

따라서 이를 내 이미지에 효율적으로 연결할 수 있는것이다. `DockerHub` 에 도커 이미지를 공유하는 경우 같은때에.

`docker run` 명령을 통해 이미지를 기반으로 한 컨테이너를 실행하는데, 이 명령에 설정할 수 있는 많은 옵션과 플래그가 있다.
앱에 무언가를 입력할 수 있도록 하는것이 필요하다면, 컨테이너를 `인터렉티브` 하게 만들 수 있고, 이름도 지정할 수 있다. 또한 컨테이너가 중지되면 자동으로 제거되도록 할 수도 있다.

`docker push / pull` 로 이미지를 공유할 수 있다.

#### CheatSheet

![](https://velog.velcdn.com/images/chromeheartz/post/73d9eacc-7428-428a-9fc2-183ba04a57ba/image.png)
![](https://velog.velcdn.com/images/chromeheartz/post/6d008427-7feb-4cf4-836e-697bad3bb45c/image.png)
