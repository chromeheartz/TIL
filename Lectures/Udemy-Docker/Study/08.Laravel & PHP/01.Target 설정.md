## Laravel & PHP

### 01. Target 설정

---

### 📌 Target

`Laravel / PHP` 의 특별한 점은 무엇일까?

지금까지의 모든 예제는 대부분 `node / mongodb / react` 에 관한 것이였다.
모든 기술에 도커를 사용할 수 있지만 특히, 모든 `웹 기술` 에 사용할 수 있다는 점을 강조하고싶다.
`Laravel` 은 인기 있는 `PHP 프레임워크` 인데, 이 개발을 위해 로컬 머신을 설정하는 것은 상당히 귀찮을 수 있다.

`Laravel` 문서를 찾아보면 서버 요구사항에 대해 알 수 있다. 시스템에 무엇이 설치되어야 하는지를 볼 수 있는데 생각보다 많다는 것을 알 수 있다.
또한 `PHP` 설치가 가장 중요한데, 이미 그것 자체가 문제이다.

PHP를 설치하는 것 자체는 스스로 할 수 있지만 node와는 차원이 다르다.
node의 가장 큰 장점은 코드를 작성할때 사용하는 유일한 언어가 아니라는 것이다.
즉, 사용하는 언어는 javascript이지만 nodejs는 `javascript 런타임` 이므로, javascript로 애플리케이션 코드를 작성할 수 있다.

하지만 node는 들어오는 요청을 처리하는 서버만을 구축하고, 따라서 애플리케이션 코드 / 서버 로직 모드를 node로 작성된 하나의 조각으로 가지고 있고, node앱은 node만 설치하면 되기 때문에 매우 쉽다.

#### Laravel / PHP

이 둘은 다르다. PHP를 설치하는 것만으로는 충분하지 않고 그 외에 서버가 필요하다.
PHP로 서버 자체를 구축할 수 없기 때문에 들어오는 요청을 처리하는 서버가 필요하다.
그 서버는 들어오는 요청에 대해 PHP 코드를 실행하도록 PHP 인터프리터를 트리거 한다.
그리고 MySQL 또는 MongoDB 데이터베이스와 결합될 수 있는 로컬 머신에 이 모든것을 설정해야 하는데, 번거로운 일이 된다.

결국 도커를 사용해서 로컬머신에 아무것도 설치하지 않고 Laravel PHP 코드를 작성하고 애플리케이션을 빌드할것이다.

#### 아이디어

Laravel PHP 애플리케이션의 소스 코드가 포함된 어떤 폴더가 호스트 머신에 있는데, Laravel 코드를 작성할 수 있는 편집기를 사용하여 로컬 머신에서 열 수 있는 폴더이다.
이 소스 코드 폴더는 PHP 인터프리터 컨테이너라는 하나의 컨테이너에 노출되는데, 그 컨테이너는 내부에 PHP가 설치되어 있고, 소스 코드에 접근할 수 있는 컨테이너이다.

이 PHP 인터프리터 외에 다른 블록도 있다.
코드를 실행하는데 필요한 부가 서버도 필요하기 때문.
Nginx 웹서버가 있는데, 컨테이너와 이 웹서버는 기본적으로 들어오는 요청을 받은 다음 인터프리터로 이동해서 응답을 생성하고 요청을 전송한 클라이언트에게 그 응답을 돌려줄것이다.

또한 데이터를 저장하기 위해 MySQL 데이터베이스를 추가.
Laravel 앱에서 MongoDB로도 데이터베이스를 사용할 수 있지만 일반적인 것이 SQL 데이터베이스로 작업하는 것이다.

당연히 PHP 인터프리터는 MySQL 데이터베이스와 통신할 수 있어야 한다. 결국 PHP 코드 묶음인 Laravel 프레임워크는 통신할 수 있어야 한다.

즉 3개의 컨테이너가 필요하다.
컨테이너 이외에도 `유틸리티 컨테이너` 가 필요한데, 예를 들어 `Composer` 가 필요하다. 이는 기본적으로 PHP에 대한 것인데 node로 비교하면 npm 같은것이다.
써드파티 패키지를 설치하는데 사용하는 패키지 관리자이다.
