## Networking

### 06. Docker가 IP주소를 해결하는 방법

---

### 📌 IP주소

요청이 한 컨테이너에서 호스트 머신으로 전송되거나, 다른 컨테이너로 전송되는 기능이 있다는 것을 보았다.
특히, 특정 서비스가 실행중인 경우 호스트 머신을 목표로하는 주소로써 `host.docker.internal` 을 사용할 수 있었다. 또한 다중 컨테이너를 동일한 네트워크위에 존재시켜서 컨테이너 이름을 도메인 즉, 주소로 사용할 수 있었다. 그렇게 하면 도커가 IP주소를 자동으로 해결한다.

#### 도커는 소스코드를 내부적으로 교체하지 않는다.

이 부분이 중요하다. 즉, 소스코드를 읽지 않는다.
컨테이너의 이름을 보고, 코드에 플러그인된 컨테이너의 `IP주소` 를 연결한다.
도커가 앱이 실행되는 환경을 소유하고 애플리케이션이 `HTTP 요청` 이나 `MongoDB` 요청 또는 컨테이너에서 다른 종류의 요청을 보내는 경우에 도커가 이를 인식한다.

그 시점 도커는 주소, 컨테이너 이름 또는 `host.docker.internal` 을 `실제 IP` 주소로 바꾼다.
왜냐면 주변의 컨테이너와 호스트 머신을 알고 있기 때문에.
✅ 즉, 컨테이너에서 요청을 전송할 때에만 `자동 IP 변환` 이 발생한다.
요청이 컨테이너에서 전송되지 않거나, 다른곳. 예를 들어 브라우저에서 생성된 경우에는 즉, 사용자가 웹 앱을 방문하여 JavaScript 코드가 브라우저에서 실행중이고, 그 브라우저에서 요청이 전송되면 도커는 아무 작업도 수행하지 않는다. 왜냐면 소스 코드를 대체하지 않기 때문에.

> 자동 IP 변환 기능이 실질적으로 내부적으로 어떻게 작동하는지 이해하는 것이 중요하다.
