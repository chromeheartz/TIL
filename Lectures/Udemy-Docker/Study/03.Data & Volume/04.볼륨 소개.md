## Data & Volume

### 04. 볼륨 소개

---

### 📌 볼륨

도커에는 `볼륨` 이라는 내장 기능이 있다.
볼륨은 데이터를 유지하도록 도우며, 문제를 해결할 수 있다.

#### 볼륨을 어떻게 활용할 수 있을까?

우선 볼륨이 정확히 무엇이며, 어떻게 작동해야 하는지 이해해야 한다.
볼륨은 `호스트 머신의 폴더` 이다. 컨테이너나 이미지에 있는 것이 아니다.
즉, 호스트 컴퓨터에 장착된 하드 드라이브에 존재하여 사용가능하거나, 컨테이너로 `매핑` 되는 것을 의미한다.

> ✅ 즉, 볼륨은 도커가 인식하는 호스트 머신인 컴퓨터안에 있는 폴더로서 도커 내부의 폴더와 매핑된다.

`COPY` 명령과 비슷하게 보이는데, 이 명령은 실제로 복사하도록 명령한 경로와 파일의 스냅샷을 취한 다음 파일과 폴더를 이미지에 복사하는 것이 전부다.
지속적인 관계 / 연결이 없고, 이미지에 복사되는 `일회성 스냅샷` 일 뿐이다.

볼륨은 컨테이너 내부의 폴더를 호스트 머신상의 컨테이너 외부 폴더에 연결할 수 있고, 두 폴더의 변경 사항은 다른 폴더에 반영된다.

따라서 호스트 머신에 파일을 추가하면 컨테이너 내부에서 액세스할 수 있고,
컨테이너가 매핑된 경로에 파일을 추가하면 컨테이너외부, 즉 호스트 머신에서도 사용할 수 있다.

이런 메커니즘으로 인해 볼륨을 통해 데이터를 유지할 수 있다.
볼륨은 컨테이너가 종료된 경우에도 지속되며, 계속 존재한다.

> 📍 컨테이너에 볼륨을 추가하는 경우 해당 볼륨은 제거되지 않으며, 컨테이너가 제거되어도 해당 볼륨이 유지되므로 `그 볼륨의 데이터가 유지된다.`
> 컨테이너 외부에서 액세스하려는 폴더 / 또는 단순히 컨테이너 종료 및 컨테이너 제거 후에도 생존해야 하는 데이터에 사용할 수 있다. 데이터가 컨테이너 외부에도 저장되면 컨테이너를 제거해도 살아 남기 때문.
