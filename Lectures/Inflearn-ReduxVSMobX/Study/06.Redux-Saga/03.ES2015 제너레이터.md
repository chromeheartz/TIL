## Redux-Saga

### 03. ES2015 제너레이터

---

### 📌 Generator

`Generator` 는 함수 실행을 중간에 멈출 수 있는 함수이다. 멈췄다가 사용자가 원할 때 재개할 수 있다.

```js
function a() {
  console.log(1);
  console.log(2);
  console.log(3);
}
a();
```

이런식의 함수가 있고 실행을 한다면 당연히 `1 / 2 / 3` 순서대로 출력이 될것이다. 하지만 만약 1만 출력하고 2가 안나오게 멈추고 싶다 할때 `Generator` 를 사용할 수 있다.

### 📌 기본 문법

기본 문법은 `function` 구문에 `*` 별표를 하나 추가하면 된다.

<img width="287" alt="스크린샷 2024-02-04 오후 3 44 44" src="https://github.com/chromeheartz/TIL/assets/95161113/2d101182-62d0-4d5c-a00b-70190d41be50">

함수를 실행하는데 콘솔이 찍히는게 아니라 `generaotr` 객체 모양과 종료되지 않았다는 뜻의 `suspended` 가 나오는 것을 볼 수 있다.

<img width="305" alt="스크린샷 2024-02-04 오후 3 45 54" src="https://github.com/chromeheartz/TIL/assets/95161113/01d3b719-d54a-4f7e-b4b5-971005f6812c">

`gen` 이라는 변수에 넣어서 `next()` 메소드를 실행해주면 제대로 실행이 되는 것을 볼 수 있다. 추가로 `done: true` 로 `generator` 가 종료된 것도 알려준다.
`gen` 을 찍어서 확인해보면 `closed` 종료 되었다는 것도 알 수 있다.

이렇게 `generator` 는 처음부터 함수를 실행했을 때 바로 내부가 실행되는 것이 아니라 `next` 를 붙여서 실행을 해줘야 그 안에 내부 내용들이 실행이 되는것이다. ✅ `next` 는 한 번만 실행되는 것이 아니라 여러번 쓸 수 있다. `closed가 되기 전까지`

#### 중단점

`generator` 는 함수를 중간에 멈추고 재개할 수 있다고 했는데 재개는 `next` 로 한다.
그럼 중단은 어떻게 할까? `yield` 키워드를 사용한다.

<img width="394" alt="스크린샷 2024-02-04 오후 4 06 44" src="https://github.com/chromeheartz/TIL/assets/95161113/d91108aa-e644-4287-88cc-9ceee1190874">

`중단점` 에서 멈췄을 때는 `done` 부분이 false가 된다.

#### 만약 yield뒤에 값을 넣어주면 어떻게 될까?

<img width="359" alt="스크린샷 2024-02-04 오후 4 07 54" src="https://github.com/chromeheartz/TIL/assets/95161113/23ceb208-be5a-4a3d-8095-3fcae41fd137">

`return` 과 비슷하게 `yield` 뒤에 있던 값이 `value` 안에 들어와서 출력이 된다.
결국 원하는 시점에 `yield` 를 넣어주면 함수를 중단시킬 수 있는 것이다.
