## Redux-Saga

### 02. 사가 미들웨어 리덕스에 연결하기

---

### 📌 Middleware

`middleware` 를 연결을 해주기 위해 기존에 `middleware` 를 넣었던 것처럼 `store.js` 에 작성

```js
// store.js
import createSagaMiddleware from "redux-saga";
import rootSaga from "./sagas";

const sagaMiddleware = createSagaMiddleware();

const enhancer = compose(
  process.env.NODE_ENV === "production"
    ? applyMiddleware(sagaMiddleware, firstMiddleware, thunkMiddleware)
    : composeWithDevTools(
        applyMiddleware(sagaMiddleware, firstMiddleware, thunkMiddleware)
      )
);

const store = createStore(reducer, initialState, enhancer);

sagaMiddleware.run(rootSaga);
```

`Redux-Saga` 에서 제공하는 미들웨어를 사용할 것이기 때문에 사가에서 제공하는 `CreateSagaMiddleware` 함수를 실행해서 넣어주고 장차해주면 된다.

`sagaMiddleware.run(rootSaga)` 로 `rootSga` 를 등록을 해주어야 한다.

⭐️ 실제 서비스에서는 리덕스가 `스테이트들의 중앙 통제실` 인데 그 흐름이 보이면 보안의 위협이 될 수 있기 때문에 `Node.env` 를 사용해서 `devTools` 를 사용안하게 구성.
