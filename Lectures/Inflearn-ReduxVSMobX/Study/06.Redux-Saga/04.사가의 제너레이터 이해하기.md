## Redux-Saga

### 04. 사가의 제너레이터 이해하기

---

### 📌 RootSaga

`RootSata / userSaga / postSaga` 를 만들었는데 각각 이 `Saga` 들이 `reducer` 에 대응이 되는것이다.

그래서 `userSaga` 에서는 `userReducer` 에서 일어나는 일들 그 액션들에 대한 것만 담당하고 `postSaga => postReducer` 만 담당하는 식이 된다.

그 시작은 `RootSaga` 이고, 그냥 여러개의 `Saga` 들을 조합하는 그런 역할이라서 별 역할은 없다.

```js
export default function* rootSaga() {
  yield all([call(user), call(post)]);
}
```

### 📌 UserSaga 보기

```js
const HELLO_SAGA = "HELLO_SAGA";

function* helloSaga() {
  console.log("hello saga");
  yield take(HELLO_SAGA);
}

export default function* userSaga() {
  yield all([fork(watchLogin), helloSaga()]);
}
```

`helloSaga` 도 제너레터 즉, 함수이기 때문에 실행을 해주어야 내부가 실행된다. `all` 안에서 실행해주면 이제 `helloSaga` 에서 별의 별 짓을 다 할 수 있다.

예를 들어 `yield take()` 를 해서 아무 액션이나 `take` 안에 넣어줄 수 있다.

- ✅ `take` : 해당 액션이 `dispatch` 되면 제너레이터를 `next` 하는 이펙트

> `yield` 는 중단점이였다. `take` 가 `HELLO_SAGA` 를 기다리고 있는데 yield가 재개가 되는 시점은 `HELLO_SAGA` 액션이 들어왔을 때가 될것이다. 재개하면 `next` 를 해주어야 하는데 `next` 코드를 우리가 쓰지는 않는다.

- ⭐️ `next` : `next` 자체는 `Saga Middleware` 안에 들어있고 자동으로 실행 해준다.
  `take` 함수 안에 `next` 가 들어있다. 그래서 중단점만 적절하게 해주면 된다.
