## React-Redux

### 06. Q&A

---

### ⭐️ LOGIN_REQUEST / LOG_IN_SUCCESS / LOG_IN_FAILURE

3개가 한쌍으로 만들어주게 되면 isLogging 을 이용해서 `로딩 인디케이터` 등을 구현하기 편리해진다.

> `type: 'LOG_IN_REQUEST` 같이 들어가는 상수 값들은 빼주게 되면 실수로 오타가 나는 것을 방지할 수 있다. 액션과 리듀서가 type에서 오타가나면 찾기가 힘든데 변수 / 상수로 관리를 하면 값이 여러군데에 재사용 될 수 있고 값은 하나이기 때문에 관리측면에서 좋다.

```js
const LOG_IN_REQUEST = "LOG_IN_REQUEST";
const LOG_IN_SUCCESS = "LOG_IN_SUCCESS";
const LOG_IN_FAILURE = "LOG_IN_FAILURE";
```

### 📌 App.js

```jsx
const App = () => {
  const user = useSelector((state) => state.user);
  console.log(user);
  const dispatch = useDispatch();
  const onClick = useCallback(() => {
    dispatch(
      logIn({
        id: "bibiboy",
        password: "password",
      })
    );
  }, []);
  return (
    <div>
      {user.isLoggingIn ? (
        <div>로그인 중</div> // 로그인 중
      ) : user.data ? (
        <div>{user.nickname}</div> // 로그인 후
      ) : (
        "로그인 해주세요" // 로그인 전
      )}
      {!user.data && <button onClick={onClick}>로그인</button>}
    </div>
  );
};
```

기존에 `useSelector` 부분에서 `state => state.user.data` 구문을 사용해서 에러가 났었는데 `state.user` 로 바꾸니 정상 작동했다. 그 이유는 유저 객체를 가져와야했기 때문.
