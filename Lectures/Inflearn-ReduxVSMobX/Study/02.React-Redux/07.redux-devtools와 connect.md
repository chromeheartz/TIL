## React-Redux

### 07. redux-devtoolsì™€ connect

---

### ğŸ“Œ redux-devtools

ê°€ì¥ ì‰½ê²Œ í•´ê²°í•˜ëŠ” ë°©ë²•ì€

```
npm i redux-devtools-extension -D
```

ìœ¼ë¡œ ì„¤ì¹˜ í•˜ëŠ” ë°©ë²•ì´ë‹¤. `-D` ë¥¼ ë¶™ì—¬ ê°œë°œìš©ìœ¼ë¡œ ì„¤ì¹˜. `production` ë°°í¬í™˜ê²½ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ ê°œë°œìš©ìœ¼ë¡œ ì‚¬ìš©í•´ì•¼ ëœë‹¤.

ìì¹«í•˜ë©´ ì›¹í”„ë¡œì íŠ¸ì˜ ë°ì´í„°ê°€ ëª°ì•„ì ¸ìˆëŠ” ë¦¬ë•ìŠ¤ê°€ ìœ ì¶œë  ìˆ˜ ìˆë‹¤.

```js
// store.js
const { composeWithDevTools } = require("redux-devtools-extension");

const enhancer = composeWithDevTools(
  applyMiddleware(firstMiddleware, thunkMiddleware)
);
```

#### ğŸ“ ë‹¤ë¥¸ ë°©ì‹

ê³µì‹ ë¬¸ì„œë¥¼ ì‚´í´ë³´ë©´ ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ì¤€ë¹„ë¥¼ í•´ë†“ì€ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. `composeWithDevTools / devToolsEnhancer` ì´ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ í•  ìˆ˜ ìˆëŠ”ë° í˜„ì¬ëŠ” `composeWithDevTools` ë°©ì‹ìœ¼ë¡œ ì§„í–‰

> âœ… ë°°í¬ í™˜ê²½ì—ì„œ ë”ì´ìƒ ì“°ê³ ì‹¶ì§€ ì•Šë‹¤ë©´?
> ë³´í†µ `process.env.NODE_ENV` ë¡œ êµ¬ë³„ì„ í•˜ëŠ”ë°
> `ì‚¼í•­ ì—°ì‚°ì` ë¡œ ë¦¬ë•ìŠ¤ ë°ì´í„°êµ¬ì¡°ê°€ ë…¸ì¶œë˜ëŠ” ê²ƒì„ ë§‰ì•„ì¤„ ìˆ˜ ìˆë‹¤.

```jsx
const enhancer =
  process.env.NODE_ENV === "production"
    ? compose(applyMiddleware(firstMiddleware, thunkMiddleware))
    : composeWithDevTools(applyMiddleware(firstMiddleware, thunkMiddleware));
```

### ğŸ“Œ í´ë˜ìŠ¤ ë²„ì „

ë¦¬ì•¡íŠ¸ëŠ” í˜„ì¬ `í´ë˜ìŠ¤ íŒŒ / í›…ìŠ¤ íŒŒ` ë¡œ ë‚˜ë‰˜ì–´ì ¸ìˆë‹¤.
ê·¼ë° í´ë˜ìŠ¤ ë²„ì „ì˜ ë¦¬ë•ìŠ¤ë³´ë‹¤ `í›…ìŠ¤` ë²„ì „ì˜ ë¦¬ë•ìŠ¤ê°€ í›¨ì”¬ ì‚¬ìš©í•˜ê¸° ì‰½ë‹¤
í´ë˜ìŠ¤ë²„ì „ì—ì„œ ë²ˆê±°ë¡œì› ë˜ ë¶€ë¶„ë“¤ì´ í›…ìŠ¤ì—ì„œëŠ” ë§ì´ í•´ê²°ì´ ë˜ì—ˆë‹¤.

#### ê·¸ë˜ì„œ ì–´ë–¤ ì ì´ ë²ˆê±°ë¡œì› ì„ê¹Œ?

```jsx
// App.jsx
import React from "react";
import { connect } from "react-redux";
import { logIn, logOut } from "./actions/user";

class App {
  onClick = () => {
    dispatch(
      logIn({
        id: "bibi",
        password: "password",
      })
    );
  };

  onLogout = () => {
    dispatch(logOut());
  };

  render() {
    const { user } = this.props;
    return (
      <div>
        {user.isLoggingIn ? (
          <div>ë¡œê·¸ì¸ ì¤‘</div> // ë¡œê·¸ì¸ ì¤‘
        ) : user.data ? (
          <div>{user.data.nickname}</div> // ë¡œê·¸ì¸ í›„
        ) : (
          "ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”" // ë¡œê·¸ì¸ ì „
        )}
        {!user.data ? (
          <button onClick={this.onClick}>ë¡œê·¸ì¸</button>
        ) : (
          <button onClick={this.onLogout}>ë¡œê·¸ì•„ì›ƒ</button>
        )}
      </div>
    );
  }
}

export default connect()(App);
```

ì´ë ‡ê²Œ í´ë˜ìŠ¤ ë²„ì „ìœ¼ë¡œ ë§Œë“¤ì–´ë´¤ëŠ”ë° ì—¬ê¸°ì„œ í¬ì¸íŠ¸ëŠ” `connect` ë¥¼ ì¨ì£¼ëŠ” ê²ƒì´ë‹¤.
`í•˜ì´ì˜¤ë” ì»´í¬ë„ŒíŠ¸` ì—ì„œ ì´ `App` ì´ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ `í™•ì¥` í•´ì£¼ëŠ” ì—­í• ë¡œ ì‚¬ìš©ëœë‹¤.
