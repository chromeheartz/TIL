## Redux-Toolkit

### 02. 새롭게 등장한 slice

---

### 📌 Hook => Toolkit

✅ `Toolkit으로 바꿀 때 가장 중요한 점`

`reducer` 가 확 바뀌게 된다. 더 많아지는 것이 아니라 더 쓰기 쉬운 방면으로.

```js
// 기존 reducer
const { combineReducers } = require("redux");
const userReducer = require("./user");
const postReducer = require("./post");

module.exports = combineReducers({
  user: userReducer,
  posts: postReducer,
});

// Toolkit reducer
const { combineReducers } = require("redux");
const userSlice = require("./user");
const postSlice = require("./post");

module.exports = combineReducers({
  user: userSlice.reducer,
  posts: postSlice.reducer,
});
```

여기서 처음으로 `slice` 개념이 나오게 되는데 이 슬라이스는 단순히 리듀서 뿐만 아니라 다양한 것들을 합쳐놓은 개념이다. `reducer / action / initialState` 등이 들어있다.

> **왜 이것들을 합쳤을까?**
> 잘 생각해보면 보통 어떠한 `액션` 은 어떤 `리듀서` 에 종속되어있기 마련이다. 예를 들어 `로그인 / 로그아웃` 이 있다고하면 그 액션들은 보통 다 유저만 바꾼다. 유저만 조작하고 대부분의 액션들이 어떤 특정한 리듀서 안에 종속되어 있기 때문에 나누지말고 합쳐버리자는 개념으로 생긴게 `Slice`
> ⭐️ 즉, `Reducer / Action` 자꾸 하나로 뭉쳐서 하나의 그룹화과 되는데 아예 그룹으로 만들어버리자. 가 된것

### 📌 Slice

```js
// reducers/post.js
const { createSlice } = require("@reduxjs/toolkit");

const initialState = {
  data: [],
};

// 기존
// const postReducer = (prevState = initialState, action) => {
//   switch (action.type) {
//     case "ADD_POST":
//       return [...prevState, action.data];
//     default:
//       return prevState;
//   }
// };

const postSlice = createSlice({
  name: "post",
  initialState,
  reducers: {},
  extraReducers: {},
});

module.exports = postReducer;
```

`createSlice` 안에 들어갈 것들

- `name` : 말 그대로 이름이다. 리듀서의 이름을 넣어주는 곳
- `initialState` : 초기값
- `reducers / extraReducers` : 각 액션들의 특성에 맞게 넣어준다.

  - `reducers` : 동기적, 내부적인 것
  - `extraReducers` : 비동기적, 외부적인 것

  즉 정리하자면 `post reducer` 에서 쓰일 것들만 `reducers` 에 넣어주고 비동기적인 액션이나 post reducer 바깥에 있는 액션들은 `extraReducers` 에 넣어준다.
