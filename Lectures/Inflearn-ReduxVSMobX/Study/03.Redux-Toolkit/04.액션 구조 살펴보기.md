## Redux-Toolkit

### 04. 액션 구조 살펴보기

---

### 📌 액션 구조 살펴보기

실제 사용한다고 생각을 했을 때 `logOut` 처럼 어떤 슬라이스에 종속되어 있는 애들은

```js
const onLogout = useCallback(() => {
  dispatch(userSlice.actions.logOut());
}, []);
```

즉, 동기 액션들은 `slice.actions` 에 있다. ✅ `비동기` 면 종속되어 있더라도 `extraReducers` 로 가기 때문에 따로 빠지게 된다.

### 📌 getDefaultMiddleware

```js
// 기존
const store = configureStore({
  reducer,
  middleware: [firstMiddleware, ...getDefaultMiddleware],
  devTools: process.env.NODE_ENV !== "production",
});

// 수정
const store = configureStore({
  reducer,
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware().concat(firstMiddleware),
  devTools: process.env.NODE_ENV !== "production",
});
```

`getDefaultMiddleware` 가 기존에 강좌에서 했던 방식대로하면 오류가 나서 공식문서를 보고 수정했다.

> **getDefaultMiddleware DOCS 👉 [`getDefaultMiddleware`]**

[`getDefaultMiddleware`]: https://redux-toolkit.js.org/api/getDefaultMiddleware

### 📌 redux

![스크린샷 2023-12-28 오전 11 32 20](https://github.com/chromeheartz/TIL/assets/95161113/3a6adf47-e966-4b16-9d85-35220796ae98)

`redux devtools` 를 보면 `init` 이니셜 스테이트는 알아서 잘 들어가있고 로그인을 누르게되면 `비동기 액션` 이기 때문에 `pending => fulfilled` 로 진행이 되고, `action.payload` 에 들어온 값이 들어가는 것을 볼 수 있다.

`logOut` 은 동기이기때문에 `pending` 이 따로 안나온다.
