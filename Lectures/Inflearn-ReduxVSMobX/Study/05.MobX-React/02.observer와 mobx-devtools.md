## MobX-React

### 02. observer와 mobx-devtools

---

`onLogIn, onLogOut` 은 간단히 구현할 수 있다.

```js
onClick = () => {
  userStore.logIn({
    nickname: "bibi",
    password: "비밀번호",
  });
};

onLogout = () => {
  userStore.logOut();
};
```

이렇게 `store` 도 분리가 가능하고, 데이터 / 데이터를 바꾸는 액션을 편하게 불러와서 바꾸면 된다. 바꾸게 되면 알아서 `리렌더링` 이 일어난다.

#### 📍 어떻게 리렌더링이 자동으로 될까?

`userStore` 에 `action` 을 실행해서 데이터를 바꿀 때 `@observer` 를 연결해줬기 때문에 그 `observer` 가 컴포넌트 내에서 쓰이는 `observable` 이 바뀌면 자동으로 리렌더링을 해준다.

그래서 어떻게 보면 `컴포넌트 / 스토어` 가 연결된 것이 없다고 생각할 수 있는데 그 모든 것을 `observer` 가 알아서 해주는 것이다.

#### 📍 global store를 쓰지 않고 이 컴포넌트 안에서만 사용하고 싶을 때

`class` 컴포넌트 안에 `state` 를 선언을 해서 사용할 수 있다.

```js
class App extends Component {
  state = observable({
    name: "",
    password: "",
  });
  onChangeName = (e) => {
    this.state.name = e.target.value;
  };

  onChangePassword = (e) => {
    this.state.password = e.target.value;
  };
}
```

기존 react를 사용할 때를 생각해보면 `setState` 를 사용할 때 `this.setState({name: e.target.value})` 이런식으로 사용을 했는데 `MobX` 를 사용할 경우에는 `this.state.name = e.target.value` 로 써도 된다.`Immer`

`observable` 때문에 가능.

> 결국 `observer` 가 `observable` 들을 다 알아서 리렌더링 해주는 것.
