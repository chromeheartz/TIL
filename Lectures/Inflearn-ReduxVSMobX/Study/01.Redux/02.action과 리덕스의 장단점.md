## Redux

### 02. action과 리덕스 장단점

---

### 📌 단방향

리덕스는 `단방향` 이다.

> 앵귤러의 경우
> 화면을 바꾸면 => 데이터가 바뀌고
> 데이터가 바뀌면 => 화면이 바뀐다.

⭐️ 하지만 리덕스는 항상 `스토어` 를 중심으로 생각하는 것이 좋다. 실제로 `리덕스 스토어` 는 객체이다.
스토어 안에 있는 데이터도 `스테이트` 라고 부른다.

```jsx
{
  compA: 'a',
  compB: 12,
  compC: null
}

// store 데이터 묶음
```

리액트 스테이트 처럼 리덕스도 스테이트가 있는것이다.

> ✅ `단방향` 이라는 것은 한 가지 방향으로 밖에 못 바꾼다는 뜻이다. 이 단방향을 유지하기 위해 `action` 이라는 것을 만들어준다.

### 📌 그럼 action 이 뭘까?

⭐️ action은 영어 뜻과 마찬가지이다. 즉, `state를 어떻게 바꿀지에 대한 행동` 을 적어놓은 것이다.

예시.

'A를 B로 바꾼다' 라는 액션을 하나 만들고 그 액션을 `실행`
✅ 실행은 `디스패치(dispatch)` 라고 한다.

```js
// action
{
  type: "a to b";
}
```

⭐️ dispatch를 실행하면 아까 compA의 'a'가 'b'로 바뀔것인데 결국 이것만 계속하는것이다.
그래서 액션들을 미리 다 만들어 놓고 그것들을 때에 따라서 `디스패치` 만 계속해서 `state` 를 바꾸는것이다.

### 📌 장점

단방향이라는 뜻은 반대로는 돌아갈 수 없다는 뜻이다.
장점을 보자면 액션들이 있고 액션들이 `디스패치` 된 기록들이 다 남아있을 것이다.
`디스패치` 또한 함수이기 때문에 실행을 할때마다 기록이 남아서 히스토리가 남기 때문에 디버깅할때 편하다.

따라서 에러 체크할때도 좋고, 또한 기록이 남기때문에 `타임 머신` 기능을 써서 이전 액션으로 돌아갈 수 있다.

#### 타임머신 ?

예를 들어 회원가입 버튼을 눌렀다 => 이 액션을 뒤로 거슬러 올라가서 버튼 누르기 전으로 돌아갈 수 있다.

### 📌 단점

- 액션들을 미리 만들어놔야 한다. 함수 객체의 특성을 사용해서 조금씩 바꿀 수 있긴 한데, 웬만하면 미리 다 만들어 놓아야 한다.

- `타임 머신` 기능을 쓰려면 이 스테이트들이 `불변성` 개념을 지켜 줘야한다.
  즉, 객체를 매번 새로 만들어주어야 한다.

### 📌 Reducer

`state` 가 있고 미리 만들어둔 액션들 현재 예시로는 `a to b` 이런 액션이 실행되면 `Reducer` 에서 실제로 `새로운 객체` 를 만들어 낸다.

새로운 객체를 만들어내서 `state` 에 대체된다.
기존것이 수정되는 의미가 아닌 `Reducer` 에서 새로운 객체를 만들면 기존 스토어에 들어있는 state에 대체가 되는것이다. 새로운 객체로.

> 그래서 항상 `액션 / 디스패치` 할 때마다 `새로운 객체` 를 만들어놔야하고 `dispatch / reducer` 사이에 끼는 것이 `middleware` 이다.
