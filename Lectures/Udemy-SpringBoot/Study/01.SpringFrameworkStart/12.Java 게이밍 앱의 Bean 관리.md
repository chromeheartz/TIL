## Java Spring Framework Start

### 12. Java ê²Œì´ë° ì•±ì˜ Bean ê´€ë¦¬

---

### ğŸ“Œ Bean ê´€ë¦¬

ì§€ê¸ˆê¹Œì§€ ë‹¤ì–‘í•œ ìœ í˜•ì˜ `Bean` ì„ ì„¤ì •í•´ë³´ì•˜ë‹¤. ì´ì œ ì•±ì— ë°˜ì˜í•´ë³´ì.
`helloworld` ë¼ëŠ” íŒ¨í‚¤ì§€ë¥¼ ë§Œë“¤ì–´ì„œ ì§€ê¸ˆê¹Œì§€ ì‘ì—…í–ˆë˜ ê²ƒë“¤ì„ í•´ë‹¹ íŒ¨í‚¤ì§€ ì•ˆìœ¼ë¡œ ë„£ì–´ì£¼ì. ë¦¬íŒ©í† ë§ì„ í•˜ë‚˜ ë” í•´ë³´ìë©´, `App02Helloworld` ë¥¼ ì—´ì–´ë³´ê²Œ ë˜ë©´ `context` ì—ì„œ ë¦¬ì†ŒìŠ¤ ëˆ„ì¶œ ì»¨í…ìŠ¤íŠ¸ê°€ ë‹«íˆì§€ ì•Šì•˜ë‹¤ëŠ” ì—ëŸ¬ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.
ì´ëŠ” `catch block` ê³¼ í•¨ê»˜ ë°°ì¹˜í•´ì„œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë‹«ì•„ì„œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.
`Java` ì—ëŠ” `Try-with-resources` ë¼ëŠ” ìƒˆë¡œìš´ ê¸°ëŠ¥ì´ ìˆìœ¼ë‹ˆ í•´ë‹¹ ê¸°ëŠ¥ì„ í™œìš©í•´ ì˜¤ë¥˜ë¥¼ í•´ê²°í•˜ì.

```java
package com.in28minutes.learn_spring_framework_01.helloworld;

import java.util.Arrays;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;



public class App02HelloWorldSpring {

	public static void main(String[] args) {
		// 1: Launch a Spring Context
		try (var context = new AnnotationConfigApplicationContext(HelloWorldConfiguration.class)) {

			// 2: Configure the things that we want Spring to manage
Arrays.stream(context.getBeanDefinitionNames()).forEach(System.out::println);

		};
	}
}
```

try ë¸”ë¡ì— ê¸°ì¡´ì— ì‚¬ìš©í–ˆë˜ ì½”ë“œë¥¼ ë‹¤ ë„£ì–´ì£¼ë©´ ëœë‹¤.
âœ… ì´ë¥¼ `Try-with-resources` ë¼ê³  ë§í•œë‹¤. ì´ì œ ì½”ë“œ ë‚´ì—ì„œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ ìƒí™©ë³„ ë‹¨ì„œê°€ ìë™ìœ¼ë¡œ í˜¸ì¶œëœë‹¤.

ì´í›„ë¡œëŠ” `GamingConfiguration.java / App03GamingSpringBeans.java` ë¥¼ ë§Œë“¤ì–´ì„œ ê¸°ì¡´ì— í–ˆë˜ê²ƒì²˜ëŸ¼ ì„¤ì • + Beanë“¤ì„ ë§Œë“¤ì–´ì„œ ê´€ë¦¬í•˜ë©´ ëœë‹¤.

```java
// configuration
@Bean
public GamingConsole game() {
	var game = new PacManGame();
	return game;
}

// java
public static void main(String[] args) {
var context = new AnnotationConfigApplicationContext(GamingConfiguration.class);
context.getBean(GamingConsole.class).up();
	}
```

ì´ë ‡ê²Œ GamingConsoleì„ ë§Œë“¤ì–´ì£¼ê³ , ì´ì œ `SPring Context` ë¥¼ ë§Œë“¤ì–´ë³´ì.
`AnnotationConfigApplicationContext` ë¥¼ ì…ë ¥í•˜ê³  ì—¬ê¸°ì—ì„œ ì •ì˜í•œ Springì„¤ì •ì¸ `GamingConfiguration.class` ë¥¼ ì‚¬ìš©í•œë‹¤.
`run` ì„ í•´ë³´ë©´ `up` ì´ ì œëŒ€ë¡œ í˜¸ì¶œë˜ì–´ì„œ ì¶œë ¥ë˜ëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ê°„ë‹¨í•˜ê²Œ `Spring Context` ë¥¼ ë§Œë“¤ì—ˆë‹¤.
ì´ì œ í•´ë‹¹ ê²Œì„ì€ `Spring Context` ë¥¼ ì‹¤í–‰í•˜ê³ ìˆê³ , ë¦¬ì†ŒìŠ¤ ëˆ„ì¶œ ì»¨í…ìŠ¤íŠ¸ê°€ ë‹«íˆì§€ ì•Šì•˜ë‹¤ëŠ” ì—ëŸ¬ê°€ ë‚˜ì˜¤ë‹ˆ ì´ë„ í•´ê²°í•´ì¤€ë‹¤.

ì¶”ê°€ë¡œ `GamingConsole` ë¿ë§Œ ì•„ë‹ˆë¼ `GameRunner` ë„ ê°€ì ¸ì™€ì•¼í•˜ë‹ˆ, í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ì¤€ë‹¤. `game` ì„ ì§ì ‘ í˜¸ì¶œí•˜ë ¤ë©´ `ë§¤ê°œë³€ìˆ˜` ë¡œ ì „ë‹¬í•´ì•¼ í•œë‹¤. ë”°ë¼ì„œ `GamingConsole game` ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì •ì˜í•´ì„œ ì—°ê²°í•œë‹¤.

```java
// configuration
@Bean
public GameRunner gameRunner(GamingConsole game) {
	var gameRunner = new GameRunner(game);
	return gameRunner;
}
```

ë§ˆì§€ë§‰ìœ¼ë¡œ `GameRunner` í´ë˜ìŠ¤ë¥¼ ê°€ì ¸ì™€ì„œ ì‹¤í–‰í•´ì£¼ë©´ ëœë‹¤.

```java
// GamingConfiguration.java
package com.in28minutes.learn_spring_framework_01;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;

import com.in28minutes.learn_spring_framework_01.game.GameRunner;
import com.in28minutes.learn_spring_framework_01.game.GamingConsole;
import com.in28minutes.learn_spring_framework_01.game.PacManGame;

@Configuration
public class GamingConfiguration {
	@Bean
	public GamingConsole game() {
		var game = new PacManGame();
		return game;
	}

	@Bean
	public GameRunner gameRunner(GamingConsole game) {
		var gameRunner = new GameRunner(game);
		return gameRunner;
	}

}

// App03GamingSpringBeans.java
package com.in28minutes.learn_spring_framework_01;

import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import com.in28minutes.learn_spring_framework_01.game.GameRunner;
import com.in28minutes.learn_spring_framework_01.game.GamingConsole;




public class App03GamingSpringBeans {


	public static void main(String[] args) {
		try (var context = new AnnotationConfigApplicationContext(GamingConfiguration.class)) {
			context.getBean(GamingConsole.class).up();
			context.getBean(GameRunner.class).run();
		}
	}
}
```
