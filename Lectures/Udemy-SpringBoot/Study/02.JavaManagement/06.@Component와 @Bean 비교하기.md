## Java Management

### 06. @Component와 @Bean 비교하기

---

### 📌 @Component / @Bean

#### 이 둘의 차이점은 무엇이고 언제 어느것을 사용해야 할까?

<img width="1055" alt="Image" src="https://github.com/user-attachments/assets/a40c4f5e-f36a-4e50-9271-98b04973c52a" />

일단 이 둘을 어디에서 사용할 수 있는지 짚어보자

- `@Component` : 모든 자바 클래스에서 사용할 수 있다.
  - 앞서 MarioGame을 만들어서 어노테이션을 지정했고, `GameRunner` 클래스를 생성했을때도 어노테이션으로 지정해주었다.
- `@Bean` : 특정 메소드에 적용
  - 일반적으로 `Spring Configuration` 클래스의 메소드에서 사용된다. 해당 클래스의 경우 `Bean` 을 생성하기 위해 `@Bean` 을 추가했었다.

> 사실 둥 중에는 `@Component` 를 사용하기가 더 쉽다 어노테이션만 추가하면 되기 때문. 하지만 `@Bean` 같은 경우는 생성하려면 코드를 전부 작성해야 한다. 의존성을 자동 와이어링하기 위해서도 모든 코드를 작성해야 한다.

#### `@Component` 를 사용하는 경우 자동 와이어링은 어떻게 이루어질까?

`생성자 주입, 수정자 주입, 필드 주입` 중 하나를 사용할 수 있다.

#### @Bean의 경우는?

특정 메소드를 호출해서 자동 와이어링을 할 수 있다.
`name, age, address` 가 메소드 호출이며, 메소드 호출을 사용해서 자동 와이어링을 하거나 매개변수를 사용할 수 있다.

```java
@Bean
public Person person3Parameters(String name, int age, Address address3) {
	return new Person(name, age, address3);
}
```

@Component / @Bean 둘 다 자동 와이어링이 가능하지만, 사용하는 방법이 다르다.

#### 📍 무엇이 @Bean을 생성할까?

`@Component` 의 경우 Spring은 컴포넌트 스캔을 수행하고, 존재하는 컴포넌트 클래스를 식별한다. 해당 의존성을 식별하며, @Bean이 생성되고 의존성으로 자동 와이어링이 되었는지 확인한다.

하지만 @Bean의 경우 생성 코드를 작성해야 한다.

#### ✅ 둘 중 무엇이 권장될까?

일반적으로 대부분 `@Component` 가 권장된다.
애플리케이션을 생성하는 경우, 내부에서 컴포넌트 클래스에 대한 코드를 작성하고, 컴포넌트 클래스에 대한 Bean을 생성한다면 이러한 상황에서는 `@Component` 방식을 추천한다.

하지만 `@Bean` 을 선택한다면 생성하기 전에 여러 사용자 정의 비즈니스 로직을 수행해야 하는 경우가 있다.
가령 `Person` 을 생성할 때는 생성하기 전에 여러 사항을 점검해야 한다.

> ⭐️ `@Bean` 이 자주 사용되는 경우
> `서드파티라이브러리` 를 사용하는 경우 라이브러리 `Bean` 을 인스턴스화 할 수 있다. `Spring 시큐리티` 를 사용할 수도 있다. 시큐리티 코드에 대한 액세스 권한이 없기 떄문에 코드를 사용할 수 없고 `@Component` 를 추가할 수 없다. 따라서 이런 경우에도 `@Bean` 을 사용한다.
