## Gradle

### 03. Java 및 Spring Boot용 Gradle 플러그인 살펴보기

---

### 📌 Gradle 플러그인

```
plugins {
	id 'java'
	id 'org.springframework.boot' version '3.5.5'
	id 'io.spring.dependency-management' version '1.1.7'
}
```

현재 `3개` 의 플러그인을 사용하고 있다. 이를 한번 살펴보도록하자.

#### 자바 플러그인

첫 번째 플러그인은 `자바 플러그인` 이다.
이 플러그인은 자바 컴파일을 담당한다. 자바 코드를 테스트하고 자바 파일을 빌드하는 데 유용한데, 기본 레이아웃을 제공하는 플러그인이다.

앞서 말했듯이 Gradle은 Maven 기본 프로젝트 구조이다.
기본적으로 여기에서 말하는 폴더 구조가 `src/main/java, src/main/resources, src/test/java` 라는 사실인데, 이것이 자바 플러그인에 정의되어 있는것이다.
이것들이 자바 플러그인에 정의되어 있는 것이다.
`src/main/java` 는 프로덕션 자바 소스를 가지고 있으며,
`src/main/resources` 는 `XML`, 속성 파일과 같은 프로덕션 리소스를 포함한다.
`src/test/java` 는 테스트 자바 소스, `src/test/resources` 는 테스트 리소스를 포함한다.

자바 플러그인의 일부로 정의되는 주요 작업 중 하나는 바로 `build` 이다.
`Run as` 를 보게 되면 `Run Configurations` 가 있는데 거기에 `Gradle Task` 에서 New Configuration을 추가하고 Apply를 누르면 된다. 이후에 작업 디렉토리를 선택해야하는데, `workspace` 를 클릭하고 ok를 누르고 apply / run을 차례로 선택하면 빌드가 된다.

Console에서도 로그를 살펴볼 수 있다.
`compileJava, processResources, classes` 등 이 모든 것이 빌드의 일부로서 실행되고 있다.
빌드가 끝난 후 `bin` 폴더를 보면 `build` 폴더가 들어있는데, 이 폴더에서는 `Gradle` 을 사용하여 생성되는 `Artifact` 를 모두 저장한다.
따라서 여기에 생성되는 클래스 파일을 모두 확인할 수 있다.

#### 의존성 관리 플러그인

두 번째 플러그인은 `io.spring.dependency-management` 다.
일반적으로 자바 개발자들은 Maven을 많이 사용하는데, 이 플러그인은 Gradle에서 Maven과 유사한 방식으로 의존성을 관리할 수 있도록 해준다.

Gradle에서 어떤 의존성을 추가한다고 가정해보자.
예를 들어 다음과 같이 작성할 수 있다.

```gradle
implementation group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '3.5.5'
```

그런데 더 간단히 작성할 수도 있다.
불필요한 부분을 생략하고 콜론(:)으로 구분하면 된다.

```gradle
implementation 'org.springframework.boot:spring-boot-starter-web'
```

이렇게 작성하면 자동으로 필요한 라이브러리가 다운로드되고, 버전 충돌 같은 부분도 `dependency-management` 플러그인이 알아서 관리해준다.

#### 스프링 부트 플러그인

세 번째는 `org.springframework.boot` 플러그인이다.
이 플러그인은 스프링 부트 애플리케이션을 실행하고 패키징하는 데 필요한 기능을 제공한다.

예를 들어, 이 플러그인을 사용하면 단순한 `JAR` 이 아닌 실행 가능한 스프링 부트 JAR를 만들 수 있다. 또한 컨테이너 이미지를 빌드하는 기능도 제공한다.

특히 중요한 점은 `스프링 부트 의존성 관리(spring-boot-dependencies)` 를 자동으로 활성화한다는 것이다.
그래서 스프링 부트에서 제공하는 스타터 의존성들은 굳이 버전을 따로 지정할 필요가 없다.

예를 들어 `spring-boot-starter-web` 을 추가할 때 버전을 지정하지 않아도 되는 이유가 바로 이것 때문이다.
스프링 부트 플러그인이 이미 내부적으로 적절한 버전을 관리해주기 때문이다.

> ✅ 정리
> `자바 플러그인` → 자바 컴파일, 빌드, 테스트, 기본 프로젝트 구조 제공
> `의존성 관리 플러그인` → Maven처럼 의존성을 편리하게 관리할 수 있도록 지원
> `스프링 부트 플러그인` → 스프링 부트 애플리케이션 실행 및 패키징 지원, 의존성 버전 자동 관리
