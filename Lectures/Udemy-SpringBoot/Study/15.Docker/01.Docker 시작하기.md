## Docker

### 01. Docker 시작하기

---

### 📌 Docker 섹션에서 사용했던 명령어 정리

```
docker container run -d -p 5000:5000 in28min/hello-world-nodejs:0.0.1.RELEASE
docker container run -d -p 5000:5000 in28min/hello-world-java:0.0.1.RELEASE
docker container run -d -p 5000:5000 in28min/hello-world-python:0.0.1.RELEASE
docker container ls
docker image ls
docker container stop cc
docker container run -d -p 5001:5000 in28min/hello-world-nodejs:0.0.1.RELEASE
docker container run -d -p 5002:5000 in28min/hello-world-nodejs:0.0.1.RELEASE
docker container run -p 5003:5000 in28min/hello-world-nodejs:0.0.1.RELEASE
docker container run -p 5003:5000 in28min/hello-world-nodejs:0.0.1.RELEASE

docker --version
docker container ls
docker build -t in28min/hello-world-docker:v1 .
docker image list
docker run -d -p 5000:5000 in28min/hello-world-docker:v1
docker build -t in28min/hello-world-docker:v2 .
docker container run -d -p 5000:5000 in28min/hello-world-docker:v2
docker build -t in28min/hello-world-docker:v3 .
docker container run -d -p 5000:5000 in28min/hello-world-docker:v3
docker build -t in28min/hello-world-docker:v4 .
```

### 📌 Docker 시작하기

`Docker` 는 프로그래머든, 운영팀 구성원이든 관계 없이 `Docker` 는 학습해야할 가장 중요한 도구 중 하나이다. 이번 섹션을 통해 Docker로 할 수 있는 가장 중요한 작업에 관한 높은 수준의 개요를 살펴보자.

#### 왜 Docker를 사용할까?

기존 배포가 어떤 방식인지부터 살펴보자.
일반적으로 모든 배포 프로세스는 문서에 설명되어 있다.
운영팀이 새 환경을 배포해야 한다고 가정해보자. 먼저 새 애플리케이션을 실행할 수 있어야 하는데 가장먼저 하드웨어를 설정해야 한다. 그리고 `리눅스, 윈도우, 맥` 등 운영체제를 설정하고, 자바 앱으로 자바를 설치하고, 파이썬 애플리케이션의 경우 파이썬을, Node JS의 경우 Node JS를 설치해야 한다.

그리고 나서 애플리케이션 의존성을 설정해야 하는데, 애플리케이션은 보통 실행하려면 많은 사항이 필요하다.
따라서 의존성을 다 설정하면 앱을 설치할 수 있는데, 이런 과정들이 굉장히 수동적이다.

이렇게 하면 시간도 많이 들고, 실수할 가능성도 굉장히 높다.
문서를 보고 지침대로 따라 하다보면 어느지점에선가 실수를 저지를 가능성이 꽤 높다.

> ✅ 이런것들을 쉽게 하게 하려고 하는 것이 `Docker` 의 목적이다.

우선 `docker --version` 으로 체크를 해보고 설치가 안되어있다면 설치하자.
이후에 `docker container run -d -p 5000:5000 in28min/hello-world-python:0.0.1.RELEASE` 를 실행해보자.

`docker container run` 이라는 명령어는 컨테이너를 실행한다는 뜻인데, 실행은 `5000` 포트에서 한다.
컨테이너 이미지는 이름은 `in28min/hello-world-python` 이며, 이미지의 버전은 `0.0.1.RELEASE` 이다.

그리고 이렇게 되면 파이썬은 설치되지않았지만, 파이썬 앱을 실행할 수 있는것이다.
로컬에서 이미지를 찾을 수 없으니, 이미지를 다운로드해서 `pull` 을 수행한다.

이제 `localhost:5000` 으로 들어가보면 `Hello World Python v1` 이라는 메시지가 표시되는것을 볼 수 있다. 지금 머신에서 파이썬 애플리케이션을 실행하는것이다.

> ✅ 이런식으로 `Docker` 를 사용하면 명령어 하나로 전체 애플리케이션을 배포하게 되는것이다.
> 그럼 백그라운드에서는 무슨일이 일어나는지 알아보자.
