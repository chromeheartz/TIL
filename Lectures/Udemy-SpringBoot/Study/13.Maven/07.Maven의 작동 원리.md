## Maven

### 07. Maven의 작동 원리

---

### 📌 작동 원리

![](https://velog.velcdn.com/images/bibiboy/post/795a1a58-ffd3-4c2c-9994-0eb089b1d40d/image.png)

`Maven` 은 어떻게 작동할까? `Maven` 은 설정보단 관습을 따른다.
사전 정의된 폴더 구조를 제공하는데, 거의 모든 `Java` 프로젝트가 그 구조를 따른다.
어느 `Java` 프로젝트를 봐도 대개 이 구조를 따른다.

`src/main/java, src/main/resources, src/test/java`
덕분에 일관성을 유지할 수 있다. 한 프로젝트에서 다른 프로젝트로 옮겨도 구조는 같을 거라는것을 알고 있으니까.

즉, `Maven` 은 관습. 표준 구조를 제공한다.
백그라운드에서 중요한 또 다른 요소는 바로 `Maven Central Repository` 중앙 저장소이다.
여기에는 `artifactId, groupId` 로 분류된 `JAR` 파일들이 담겨있고, 우리는 `pom.xml` 에 의존성을 원하는 만큼 명시할 수 있다.

#### 그런데 그 의존성은 어디서 다운받고 JAR파일이 어디 있을까?

`Maven Central Repository` 에 있다.
![](https://velog.velcdn.com/images/bibiboy/post/cdacc2f0-bfb8-4faa-936e-5b3e9801e340/image.png)

여기서 `URL` 을 클릭하게 되면 볼 수 있다.
여기서 의존성을 골라서 JAR 파일을 다운로드 할 수 있다.
결국 `Spring Boot` 와 관련된 의존성은 대부분 여기에 있다. 그런데 `spring-boot-starter-RC1` 같은 것들은 정식 릴리스버전이 아니라 중앙 저장소에서 받지 않는다.

Maven은 어떻게 2차 저장소에서 받아올 수 있을까?

`pom.xml` 에서 찾아보면 `Spring Milestones` 라는 추가 저장소가 설정되어 있다.
또 다른 저장소인데, 이 저장소도 방금 살펴본 저장소와 비슷하다는 것을 알 수 있다.

Maven은 중앙 저장소부터 살피고, 찾는 의존성이 없을땐 개별 저장소를 추가할 수도 있다.
마일스톤 버전을 사용하면 `M1, M2, M3` 처럼 나오고, Spring Milestones 저장소에서 받는다.

요지는 Maven 중앙 저장소에 JAR 파일들이 담겨있고, 그것을 사용한다는 것이다.

> 추가 저장소는 `<repositories>` 와 `<pluginRepositories>` 에서 설정할 수 있다.

이렇게 Maven 중앙 저장소에서 받은 JAR파일은 로컬머신, 즉, 로컬 Maven 저장소에 저장되고 프로젝트 경로는 로컬 Maven 저장소에 있는 JAR 파일을 활용한다.

로컬 저장소란 내 머신에 있는 임시 폴더로, Maven이 Maven 저장소에서 받은 JAR파일과 의존성 파일을 저장한다.

> ✅ JAR파일은 전부 MAven 저장소에 저장된다.
> pom.xml에 의존성을 명시하면 Maven은 저장소에서 의존성을 다운로드하고, Maven이 다운로드한 JAR파일은 로컬 Maven 저장소라 불리는 임시 로컬 위치에 저장된다.
