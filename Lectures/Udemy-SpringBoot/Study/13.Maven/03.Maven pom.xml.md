## Maven

### 03. Maven pom.xml

---

### 📌 pom.xml

![](https://velog.velcdn.com/images/bibiboy/post/85759dfc-e677-4b61-9fcc-39995a95cb07/image.png)

프로젝트 객체 모델 `pom.xml` 에 대해서 알아보자.
`pom.xml` 에 가장 먼저 정의되는 것은 `Maven 의존성` 이다. 프로젝트에 사용하는 프레임워크와 라이브러리를 뜻한다. 가령 `Spring, Spring MVC, Spring AOP, JPA, Hibernate` 등을 사용할 수 있는데, 이런 프레임워크와 라이브러리를 통틀어 `Maven 의존성` 이라고 한다.

#### 의존성을 정의하는 곳

`pom.xml` 을 열어서 확인해보면 `<dependencies>...</dependencies>` 안에 의존성들이 들어가있는 것을 볼 수 있다. 만약 그 안에 들어있는 것들을 삭제하게 된다면 `컴파일 오류` 가 난다.
`cmd` 를 누르고 그 안에 들어있는 의존성들을 확인해보면 예를 들어 `spring-boot-starter` 를 열어보게되면 이 안에 또 다른 의존성들이 많이 정의되어있는 것들을 볼 수 있다.

`spring-boot-starter` 를 추가하게되면

```xml
<dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-loader-classic</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-loader-tools</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-properties-migrator</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-activemq</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-actuator</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-amqp</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-aop</artifactId>
        <version>3.5.5</version>
      </dependency>
      <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-starter-artemis</artifactId>
        <version>3.5.5</version>
      </dependency>
...
```

이렇게 많은 의존성들이 따라서 들어오는 것이다.
단위테스트 작성에도 많은 의존성들이 필요한데 그것들은 `starter-test` 로 얻을 수 있다.
이렇듯 `pom.xml` 에서 의존성 몇개를 정의하면 해당 의존성뿐만이 아니라 다른 의존성까지 받아진다는 것을 알 수 있다. 그런 의존성을 `전이 의존성` 이라고 한다.

이를 확인해보기 위해 `spring-boot-starter-web` 을 넣어준다.

```xml
	<dependency>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-web</artifactId>
	</dependency>
```

여러가지가 다운로드가 되는 것을 볼 수 있는데, 해당 의존성을 추가하자마자 `Maven` 이 알아서 다운로드해줘서 특정 프로젝트에서 사용할 수 있게 해준다.

✅ 따라서 `Maven` 의 첫 번째 역할은 `의존성 관리` 이다.
`pom.xml` 에 의존성을 추가하면 `Maven` 은 해당 의존성뿐 아니라 그 의존성의 의존성까지 다운로드하고, 애플리케이션에서 `JAR` 파일을 사용할 수 있게 함으로써 의존성으로 코드를 작성하게 해준다.

#### 구별해야 할것

꼭 구별해야 할 것이 있는데 `Maven 의존성 / Spring 의존성` 이다.
`Spring 의존성` 은 특정 클래스 안에 있는데, 클래스에는 여러 의존성이 있다.
어노테이션을 올바르게 쓰면 `Spring` 이 클래스에 맞는 의존성을 식별해 자동으로 주입한다.
반면 `Maven 의존성` 은 프레임워크나 라이브러리 등 프로젝트 빌드에 필요한 요소를 가리킨다.

> ✅
> `Maven 의존성` - 프로젝트 빌드에 사용
> `Spring 의존성` - 특정 클래스에 한정
