## Maven

### 05. Maven 더 자세히 파헤치기

---

### 📌 더 자세히 알아보기

`pom.xml` 에 의존성을 추가하는 법과 `상위 POM` 으로부터 물려받는 특성에 대해 알아보았다.
`pom.xml` 에 설정된 세부사항들을 좀 더 알아보자.

일단 프로젝트 이름과 `groupId, artifactId` 는 pom.xml에 설정된 아주 중요한 요소이다.

#### 왜 `groupId, artifactId` 를 중요시 할까?

일단 명시한 의존성을 보게 되면 `<groupId> / <artifactId>` 이 두가지 태그로 명시를 하는 것을 알 수 있다. spring-boot-starter를 예로 들어보자

```
<dependency>
	<groupId>org.springframework.boot</groupId>
	<artifactId>spring-boot-starter</artifactId>
</dependency>
```

spring-boot-starter 팀이 프로젝트를 생성할때 `groupId` 는 저기 써있는데로 설정하고, `artifactId` 또한 명시한 다음 JAR파일을 Maven 저장소에 게시한것이다.
그리고 그것을 프로젝트에 의존성으로 명시한것이고.

다른 프로젝트에서 해당 프로젝트를 사용할 때는 이 `groupId / artifcatId` 를 쓰면 되고, 거기에 `version` 까지 명시한다. 같은 프로젝트라도 버전이 여럿일 수 있으니까.

`Spring 프로젝트` 는 버전이 여러 개인데, `Spring 프레임워크 6이나 7` 또한 전부 버전에 해당한다. 따라서 Spring 프레임워크에도 `groupId / artifactId / version` 이 있다.
이렇듯 프로젝트 이름은 pom.xml에서 설정하는 주요 항목 중 하나이다.

> `groupId` 는 패키지 이름과 매우 비슷하다.
> 클래스를 생성할 때 패키지를 할당하는 것처럼 프로젝트를 생성할 때 `groupId` 를 할당한다.
> `articatId` 는 클래스 이름과 비슷하다.

프로젝트 의존성을 생성하고 `Maven 저장소` 에 푸시하게 되면 다른 프로젝트에서 groupId / artifactId / version을 명시해 내 프로젝트를 의존성으로 다운로드할 수 있다.

#### 명령어 실행

가장 간단히 Maven 명령어를 실행하는 방법은 `Run as - maven build` 를 실행하는 것이다.
`Maven` 은 여러 명령어를 제공하는데, `Maven build / Maven claen / Maven install / Maven test` 등이 있다.

goals에 `dependency:tree` 명령어를 실행해보자.
명령을 실행하는데 좀 걸리는데 이 명령어가 실행되면 `의존성 트리` 전체를 볼 수 있다.
![](https://velog.velcdn.com/images/bibiboy/post/5fd188b4-eefc-4678-8d6e-f92e1e3c26e4/image.png)

각각 어떤 의존성이 어떤 의존성을 불러오고 있는지도 알 수 있고, 테스트 관련 의존성도 볼 수 있다.
어떤 기준 위로부터는 `:compile` 로 컴파일되고 있는데, 소스 코드에 쓸 수 있다는 뜻이다.
하지만 테스트 의존성들은 `단위 테스트` 에서만 사용할 수 있다.

> ✅ Project Object Modl
> Pom.xml을 자세히 살펴보았는데, 일단 여기서 문제가 생기면 `Effective POM` 을 보면 `pom.xml` 관련 문제는 대부분 해결할 수 있다.

### 📌 pom.xml에서 정의하는 중요한 3가지

- `어떤 의존성을 사용할 지`
- `상위 POM은 무엇인지` : 의존성 관리나 Java 버전 설정등을 제공
- `프로젝트의 이름` : 즉, groupId / artifactId 를 설정.
