## JPA + Hibernate Full Stack Application

### 04. ìƒˆë¡œìš´ Todo ì¶”ê°€í•˜ê¸°

---

### ğŸ“Œ ìƒˆë¡œìš´ Todo ì¶”ê°€

`Todo` ë¥¼ ìƒì„±í•´ë³´ì.
Todoë¼ëŠ” `Bean` ê°ì²´ë¥¼ ìƒì„±í•˜ë©´ì„œ í–ˆë˜ ì‘ì—… ì¤‘ í•˜ë‚˜ëŠ” í˜„ì¬ `int` ê°’ì´ ê¸°ë³¸í‚¤ë¡œ ì„¤ì •ë˜ì–´ ìˆëŠ”ë°, ì´ëŠ” ë˜í¼í´ë˜ìŠ¤ê°€ ì•„ë‹Œ ë‹¨ìˆœí•œ intì´ë‹¤.
ì´ê²ƒì˜ ë¬¸ì œì ì€ `null` ê°’ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë‹¤.

`save()` ë©”ì†Œë“œëŠ” todoë¥¼ ì‚½ì…í•˜ê±°ë‚˜ ì‚­ì œí•œë‹¤ëŠ” ê²ƒì„ ì–´ë–»ê²Œ ì•Œê¹Œ?
`id` í•„ë“œë¥¼ ë°”íƒ•ìœ¼ë¡œ ì•Œì•„ë‚¸ë‹¤. `id` ê°€ `null` ì´ë¼ë©´ todoë¥¼ ì‚½ì…í•˜ê³  ì–´ë–¤ ê°’ì„ ê°€ì§„ë‹¤ë©´ ê¸°ì¡´ì— ìˆëŠ” todoë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ê²ƒì´ë‹¤.

```java
public Todo(int id, String username, String description, LocalDate targetDate, boolean done) { ... }

private int id;

->

public Todo(Integer id, String username, String description, LocalDate targetDate, boolean done) { ... }

private Integer id;
```

ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì¼ë‹¨ í•  ì‘ì—…ì€ `todo` ê°€ `Integer` ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½í•˜ëŠ” ê²ƒì´ë‹¤. ë˜í¼ í´ë˜ìŠ¤ì˜ `Integer` í´ë˜ìŠ¤ë¡œ ë³€ê²½

```java
// TodoJpaResource.java
@PostMapping(path="/users/{username}/todos")
	public Todo createTodo(@PathVariable String username, @RequestBody Todo todo) {
//		Todo createdTodo = todoService.addTodo(username, todo.getDescription(), todo.getTargetDate(), todo.isDone() );
		todo.setUsername(username);
		todo.setId(null);
		return todoRepository.save(todo);
//		return createdTodo;
	}
```

`Todo` ê°€ ì˜¬ë°”ë¥¸ ìœ ì €ëª…ì„ ê°€ì§€ë„ë¡ í•˜ê¸° ìœ„í•´ì„œ `setUsername` ì„ í˜¸ì¶œí•˜ê³ , `id` ë¥¼ `null` ë¡œ ì„¤ì •í•œë‹¤.
ì´í›„ì— `save(todo)` ëŠ” ê°™ì€ ì—”í„°í‹°ë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì—, ì €ì¥ëœ ì—”í„°í‹°ë¥¼ ë°˜í™˜í•´ì„œ `return` í•  ìˆ˜ ìˆë‹¤.
