## Spring Boot REST API + React FrontEnd

### 10. React ì•±ì— ë¡œê·¸ì¸í•  ë•Œ ê¸°ë³¸ ì¸ì¦ ì„œë¹„ìŠ¤ í˜¸ì¶œ

---

### ğŸ“Œ ê¸°ë³¸ ì¸ì¦ ì„œë¹„ìŠ¤ í˜¸ì¶œ

ì´ì œ Call Hello Worldë¥¼ ëˆŒëŸ¬ë³´ê²Œë˜ë©´ ì‘ë‹µì´ ì œëŒ€ë¡œ ëŒì•„ì˜¤ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
ì´ì œ frontì—ì„œ í•´ì•¼í•˜ëŠ” ê²ƒì€

1. í•˜ë“œì½”ë”©ëœ í† í°ì„ ë¡œê·¸ì¸ ì‹œì ì—ì„œ ë°›ê¸°
2. í† í°ì„ ëª¨ë“  REST API í˜¸ì¶œì— ì‚¬ìš©í•˜ê¸°.

#### 1ë²ˆ ë¬¸ì œ í•´ê²°

ì¼ë‹¨ í† í°ì„ ë°›ì„ ìˆ˜ ìˆëŠ” ì œì¼ ì¢‹ì€ ê³³ì€ `LoginComponent` ì´ë‹¤.
ë¡œê·¸ì¸ì„ í• ë•Œ handleSubmitì—ì„œ `authContext.login()` ì„ í˜¸ì¶œí•˜ê³  ìˆëŠ”ë° í•˜ë“œì½”ë”©ìœ¼ë¡œ í•˜ê³ ìˆë‹¤. ê¸°ë³¸ ì¸ì¦ URLì„ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë ¤ë©´ `/basicauth` ë¼ëŠ” URLì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ì‹¤ì œë¡œ username, passwordë¥¼ ë°›ì•„ì„œ í† í°ì„ ìƒì„±í•˜ê³  í† í°ì„ ì¸ì¦ í—¤ë”ë¡œì„œ ì „ì†¡í•˜ê³  URLì„ í˜¸ì¶œí•˜ë ¤ê³  í•œë‹¤. ì˜¬ë°”ë¥¸ ì‘ë‹µì„ ë°›ìœ¼ë©´ í† í°ì„ ì»¨í…ìŠ¤íŠ¸ì— ì €ì¥í•  ê²ƒì´ë‹¤.

```js
export const executeBasicAuthenticationService = (token) =>
  apiClient.get(`/basicauth`, {
    headers: {
      Authorization: token,
    },
  });

async function login(username, password) {
  const baToken = "Basic " + window.btoa(username + ":" + password);

  try {
    const response = await executeBasicAuthenticationService(baToken);

    if (response.status == 200) {
      setAuthenticated(true);
      setUsername(username);
      setToken(baToken);

      apiClient.interceptors.request.use((config) => {
        console.log("intercepting and adding a token");
        config.headers.Authorization = baToken;
        return config;
      });

      return true;
    } else {
      logout();
      return false;
    }
  } catch (error) {
    logout();
    return false;
  }
}
```

í•˜ë“œì½”ë”©ëœ ì¸ì¦ì„ ì‚­ì œí–ˆë‹¤.
ì¼ë‹¨ `username, password` ë¥¼ ë°›ì•„ì™€ì„œ `btoa` ë¡œ ì¸ì½”ë”©í•´ì£¼ê³ , í•´ë‹¹ í† í°ì„ `basicAuth` ì— ë„£ì–´ì„œ ì œëŒ€ë¡œëœ ìƒíƒœê°€ ë‚´ë ¤ì˜¨ë‹¤ë©´ apiClientì— `config.headers.Authorization` ì— ì„¸íŒ…ì„ í•´ì£¼ëŠ”ì‹ìœ¼ë¡œ ì´í›„ì—ë„ ê³„ì† ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.
![](https://velog.velcdn.com/images/bibiboy/post/8f54aa7b-82d9-47e3-b09d-772877ea8a76/image.png)
APIí˜¸ì¶œí•œ ê²ƒì„ ë³´ë©´ ì œëŒ€ë¡œ `request header` ê°€ ë“¤ì–´ê°€ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
