## Mockito

### 01. Mockito ν”„λ΅μ νΈ μ„¤μ •

---

### π“ Mockito

#### Mockitoλ€?

`Mockito` λ€ Java μ¤ν”μ†μ¤ ν…μ¤νΈ ν”„λ μ„μ›ν¬μ΄λ‹¤.
μ΄λ¥Ό μ‚¬μ©ν•λ©΄ μ‹¤μ  κ°μ²΄λ¥Ό λ¨λ°©ν• κ°€μ§ κ°μ²΄, `Mock` κ°μ²΄ μƒμ„±μ΄ κ°€λ¥ν•΄μ§„λ‹¤. λ”°λΌμ„ κ°λ°μλ” μ΄ κ°μ²΄λ¥Ό ν†µν•΄ ν…μ¤νΈλ¥Ό λ³΄λ‹¤ κ°„λ‹¨ν•κ³  ν†µμΌμ„±μκ² κµ¬ν„ν•  μ μλ‹¤.

`Spring initializr` μ—μ„ μƒλ΅μ΄ ν”„λ΅μ νΈλ¥Ό ν•λ‚ λ§λ“¤μ–΄μ„ μ‹μ‘ν•λ‹¤.
`mockito-demo` λΌλ” μ΄λ¦„μΌλ΅ λ§λ“¤μ–΄μ„ importν•΄μ„ κ°€μ Έμ¨λ‹¤.

λ‹¤μ‹ λ³µμµν•λ² ν•μλ©΄
`src/main/java` ν΄λ”λ” μ†μ¤μ½”λ“λ¥Ό μ‘μ„±ν•λ” κ³³
`src/main/resources` λ” μ• ν”λ¦¬μΌ€μ΄μ… κµ¬μ„±μ΄ μ„μΉν•λ” κ³³
`src/test/java` λ” λ‹¨μ„ ν…μ¤νΈ μ½”λ“λ¥Ό μ‘μ„±ν•λ” κ³³

`ν…μ¤νΈ μ½”λ“ / μ†μ¤ μ½”λ“` κ°€ λ¶„λ¦¬λλ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤.

μ΄ μ„Ήμ…μ—μ„ μ‘μ„±ν•  λ‹¨μ„ν…μ¤νΈλ” λ¨λ‘ `src/test/java` ν΄λ”μ—μ„ μ‘μ„±λ κ²ƒμ΄λ‹¤.
`pom.xml` μ„ λ³΄λ©΄ `Spring Boot` μ™€ ν•¨κ» μλ™μΌλ΅ μ„ν¬νΈλ `starter` κ°€ λ³΄μ΄λ”λ°, `Spring Boot Starter Test` λΌλ” κ²ƒμ΄κ³  μ΄ μ¤νƒ€ν„°μΉ΄ `Mockito` λ¥Ό λ¶λ¬μ¨λ‹¤.

μ΄μ  `λΉ„μ¦λ‹μ¤ κ³„μΈµ / λ°μ΄ν„° κ³„μΈµ` μ„ ν¬ν•¨ν•λ” κ°„λ‹¨ν• ν”„λ΅μ νΈλ¥Ό λ§λ“¤μ–΄ λ³΄μ.
λ°μ΄ν„° κ³„μΈµμ μΈν„°νμ΄μ¤μ™€ ν†µμ‹ ν•λ” λΉ„μ¦λ‹μ¤ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ•Ό ν•κ³ , λ°μ΄ν„° κ³„μΈµμ—μ„ `Stub / Mock` μ„ μƒμ„±ν•΄μ•Ό ν•λ‹¤.

`SomeBusinessImpl` μ΄λΌλ” ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ„ ν¨ν‚¤μ§€ μ•μ— λ„£μ–΄μ¤€λ‹¤.

![](https://velog.velcdn.com/images/bibiboy/post/0d6a1aeb-9bd2-4251-985f-7f35e85a6aa9/image.png)

μ΄ ν΄λμ¤λ” λ°μ΄ν„° κ³„μΈµμ μΈν„°νμ΄μ¤μ— μμ΅΄ν•λ‹¤. μ΄ μΈν„°νμ΄μ¤λ¥Ό `DataService` λΌκ³  μ§€μ •. `int λ°°μ—΄` μ„ λ°ν™ν•λ” λ©”μ†λ“λ¥Ό ν•λ‚ λ§λ“¤κ³ , μ΄ λ©”μ†λ“μ—μ„ λ¨λ“  λ°μ΄ν„°λ¥Ό κ°€μ Έμ¬ κ²ƒμ΄λ‹¤.
κ·Έλ¦¬κ³  νΉμ • λ°μ΄ν„°μ—μ„ κ°€μ¥ ν°κ²ƒμ„ μ°Ύκ³ μ ν•λ‹¤.

```java
public class SomeBusinessImpl {

	private DataService dataService;

	public int findTheGreatestFromAllData() {
		int[] data = dataService.retrieveAllData();
		int greatestValue = Integer.MIN_VALUE;
		for(int value:data) {
			if (value > greatestValue)
				greatestValue = value;
		}
		return greatestValue;
	}
}


interface DataService {
	int[] retrieveAllData();
}
```

μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤μ–΄μ¤€ μ΄ν›„μ— ν΄λμ¤ μ•μ— λ©”μ†λ“λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤.
μ•„μ£Ό κ°„λ‹¨ν• Java μ½”λ“μΈλ° `value` κ°€ `greatestValue` λ³΄λ‹¤ ν¬λ©΄ ν•΄λ‹Ή κ°’μ„ λ€μ…ν•΄μ¤€λ‹¤. λ£¨ν”„λ¥Ό λλ ¤μ„ λ¨λ“  λ΅μ§μ„ μ‘μ„±ν•κ³  λ°ν™ν•λ‹¤.

μ΄μ  μ‹¤μ  λ°μ΄ν„° μΈν„°νμ΄μ¤ μ—†μ΄ μ¦‰, λ°μ΄ν„°λ² μ΄μ¤μ™€ ν†µμ‹ ν•μ§€ μ•κ³  λ©”μ†λ“λ¥Ό ν…μ¤νΈν•΄λ³΄λ ¤κ³  ν•λ‹¤.
