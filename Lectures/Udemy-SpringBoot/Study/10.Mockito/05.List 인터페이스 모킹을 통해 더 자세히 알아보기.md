## Mockito

### 05. List ì¸í„°í˜ì´ìŠ¤ ëª¨í‚¹ì„ í†µí•´ ë” ìì„¸íˆ ì•Œì•„ë³´ê¸°

---

### ğŸ“Œ List ì¸í„°í˜ì´ìŠ¤ ëª¨í‚¹

ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ê¸° ìœ„í•´ `List ì¸í„°í˜ì´ìŠ¤` ë¥¼ ì˜ˆì‹œë¡œ ë“¤ì–´ë³´ì.
`ListTest` ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì„œ `list` íŒ¨í‚¤ì§€ì— ë„£ê³  ë§Œë“¤ì–´ë³´ì.

```java
public class ListTest {

	@Test
	void Test() {
		List listMock = mock(List.class);
		// listMock.size() => 3
		when(listMock.size()).thenReturn(3);
		assertEquals(3, listMock.size());
	}
}
```

ì´ë ‡ê²Œ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ì–´ ë†“ê³ , listMock ì´ë¼ëŠ” ìƒˆ ì§€ì—­ ë³€ìˆ˜ë¥¼ í• ë‹¹í•´ì„œ, size ë©”ì†Œë“œë¥¼ ëª¨í‚¹í•˜ë ¤ê³  í•œë‹¤.

`when(listMock.size()).thenReturn(3);` í˜•ì‹ìœ¼ë¡œ `when` ì„ ì´ìš©í•´ì„œ ê°„ë‹¨íˆ ë°˜í™˜ì‹œì¼œì¤„ ìˆ˜ ìˆë‹¤. ê·¸ë¦¬ê³  `assertEquals` ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤ì œë¡œ ì´ ê°’ì´ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸í•˜ë©´ ëœë‹¤.

ë©”ì†Œë“œë¥¼ ëª¨í‚¹í•  ë•Œ ì—¬ëŸ¬ ê°œì˜ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.
`ì²˜ìŒì— 1ì„ ë°˜í™˜, ê·¸ ë‹¤ìŒ 2ë¥¼ ë°˜í™˜` í•˜ë„ë¡ í•˜ë©´ ë©”ì†Œë“œë¥¼ ì²´ì´ë‹í•´ì„œ ì´ì–´ì£¼ë©´ ëœë‹¤.

í•˜ì§€ë§Œ `thenReturn(3)` ê°™ì€ í˜•ì‹ìœ¼ë¡œ ëë‚´ë²„ë¦¬ë©´ ì´í›„ì— `assertEquals` ê°€ ëª‡ë²ˆì„ í˜¸ì¶œí•˜ë˜ ê°™ì€ ê°’ì´ ë°˜í™˜ëœë‹¤.

ì—¬ëŸ¬ ë°˜í™˜ ê°’ ì„¤ì •ì€ `Mockito` ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ì´ë‹¤.

#### ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬í•´ì•¼ í•˜ëŠ” ë©”ì†Œë“œë¥¼ ëª¨í‚¹ í•  ë•Œ

ì´ ê²½ìš°ì—ëŠ” ëª¨í‚¹ì„ ì–´ë–»ê²Œ í• ê¹Œ?

```java
@Test
void parameters() {
	List listMock = mock(List.class);
	// listMock.size() => 3
	when(listMock.get(0)).thenReturn("SomeString");
	assertEquals("SomeString", listMock.get(0));
}
```

`listMock` ì—ì„œ `get` ë©”ì†Œë“œë¥¼ ëª¨í‚¹í•´ì„œ `get(0)` ì´ í˜¸ì¶œë˜ë©´ `SomeString` ì„ ë°˜í™˜í•˜ë„ë¡ í•˜ê³ , ì´ë¥¼ í™•ì¸í•´ë³´ë©´ ì œëŒ€ë¡œ í…ŒìŠ¤íŠ¸ê°€ ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
`get(1)` ìœ¼ë¡œ 1ë²ˆì§¸ ê°’ì„ ê°€ì ¸ì˜¤ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ `null` ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— nullì´ ë‚˜ì˜¨ë‹¤.
ë¬¸ìì—´ì€ ê°ì²´ë¼ì„œ nullì„ ë°˜í™˜.

#### ì¼ë°˜ì ì¸ ê²½ìš°ë¥¼ í…ŒìŠ¤íŠ¸

í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ ë” ë§Œë“¤ì–´ì„œ `genericParamets` ë¼ê³  í•´ë³´ì.
`get()` ì´ í˜¸ì¶œë˜ë©´ ì–´ë–¤ ê°’ì„ ë°˜í™˜í•˜ë„ë¡ ì„¤ì •í•´ì•¼ í•˜ëŠ”ë° ì´ëŸ° ê²½ìš°ì—ëŠ” `Mockito` ì˜ `any` ë©”ì†Œë“œë¥¼ ì´ìš©í•  ìˆ˜ ìˆë‹¤.

`any` ë©”ì†Œë“œëŠ” ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆëŠ”ë°, ì—¬ê¸°ì„œ ë§¤ê°œë³€ìˆ˜ëŠ” `int` ì´ë‹ˆê¹Œ `Mockito.anyInt()` ë¥¼ í˜¸ì¶œí•˜ë©´ ëœë‹¤. ê·¸ ë‹¤ìŒ `thenReturn("SomeOtherString")` ì„ ì…ë ¥

```java
	@Test
	void genericParameters() {
		List listMock = mock(List.class);
		when(listMock.get(Mockito.anyInt())).thenReturn("SomeOtherString");
		assertEquals("SomeOtherString", listMock.get(0));
		assertEquals("SomeOtherString", listMock.get(1));
	}
```

ì´ëŸ° ê²½ìš°ê°€ ëœë‹¤ë©´ `get(10), get(20)` ë“± ì–´ë–¤ ë§¤ê°œë³€ìˆ˜ë¥¼ ì „ë‹¬í•´ í˜¸ì¶œí•˜ë“  ê°„ì— `SomeOtherString` ì´ ë°˜í™˜ë ê²ƒì´ë‹¤.

> `Mock` ë©”ì†Œë“œì˜ ë°˜í™˜ ê°’ì„ ì„¤ì •í•  ë•Œ ë©”ì†Œë“œì— ì „ë‹¬í•  ë§¤ê°œë³€ìˆ˜ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì–´ì•¼ í•˜ê³ , ë©”ì†Œë“œ ì´ë¦„ê³¼ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ì„œ ì˜¬ë°”ë¥¸ ë°˜í™˜ê°’ì„ êµ¬ì„±í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.
> ë”°ë¼ì„œ ì—¬ëŸ¬ ë°˜í™˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ê³¼ ì¸ìˆ˜ì— ë”°ë¥¸ ë°˜í™˜ ê°’ì„ ì„¤ì •í•˜ëŠ” ë°©ë²•ì„ ì´í•´í•´ì•¼í•œë‹¤.

> âœ… `any` ë©”ì†Œë“œ ì¢…ë¥˜
> `anyByte / anyChild / anyChar / anyShort / anyDouble / anyCollection` ë“±ì´ ìˆë‹¤.
