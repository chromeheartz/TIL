## Java Spring Framework Start

### 09. Spring Data JPA μ‹μ‘ν•κΈ°

---

### π“ Spring Data JPA

`JDBC` λ΅λ” `SQL μΏΌλ¦¬` λ¥Ό λ§μ΄ μ‘μ„±ν•κ³  `java` μ½”λ“ λν• λ§μ΄ μ‘μ„±ν•μ§€λ§
`Spring JDBC` λ΅λ” μΏΌλ¦¬λ¥Ό λ§μ΄ μ‘μ„±ν•λ”λ° `java` μ½”λ“λ” μ κ² μ‘μ„±ν•λ‹¤.
κ·Έλ¦¬κ³  `JPA` λ΅λ” μΏΌλ¦¬λ¥Ό μ‹ κ²½μ“Έ ν•„μ”κ°€ μ—†λ‹¤.

μ£Όμ” λ¶€λ¶„μ€ μ—”ν„°ν‹°λ¥Ό ν…μ΄λΈ”μ— λ§¤ν•‘ν•κΈ°λ§ ν•κ³  `EntityManager` λ¥Ό ν™μ©ν•λ©΄ λλ‹¤.

#### κ·ΈλΌ Spring Data JPAλ” μ–΄λ–¤ λ¬Έμ λ¥Ό ν•΄κ²°ν• κΉ?

`Spring Data JPA` λ΅λ” `JPA` κ°€ ν•κ²° λ” κ°„νΈν•΄μ§„λ‹¤. `EntityManager` λν• μ‹ κ²½ μ“Έ ν•„μ”κ°€ μ—†κ³ , μ•μ•„μ„ λ‹¤ ν•΄μ¤€λ‹¤.
`CourseSpringDataJpaRepository` λΌλ” μƒλ΅μ΄ ν΄λμ¤λ¥Ό λ§λ“¤μ–΄μ„ ν™•μΈν•΄λ³΄μ.

> β… `Spring Data JPA` λ¥Ό μ΄μ©ν•  λ•λ” μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•λ‹¤ `JpaRepository` λΌλ” νΉμ • μΈν„°νμ΄μ¤λ¥Ό `extends` λ΅ μƒμ†λ°›μ•„μ•Ό ν•λ‹¤.

μΈν„°νμ΄μ¤ κµ¬ν„ ν›„μ—λ” `CourseCommandRunner.java` λ΅ κ°€μ„ `@Autowired` λ¥Ό μ‘μ„±ν•΄μ£Όκ³  `CourseSpringDataJpaRepository` λ¥Ό κ°€μ Έμ¨λ‹¤.
μ΄μ  ν•΄μ•Όν• μΌμ€ `insert` μ€λ κΈ°μ΅΄ λ©”μ†λ“λ¥Ό `save` λ΅λ§ λ°”κΎΈμ–΄μ£Όλ©΄ λλ‹¤.
λν• νƒ€μ…λ„ λ°”κΎΈμ–΄μ£Όμ–΄μ•Ό ν•λ”λ°, λ©”μ†λ“λ” `long` νƒ€μ…μ„ μμƒν•κΈ° λ€λ¬Έμ— λμ— `l` μ„ λ¶™μ—¬μ£Όμ.

μ΄λ ‡κ² `repository.` λ§ μ…λ ¥ν•λ©΄ μ—”ν„°ν‹°λ¥Ό ν™μ©ν•  μ μλ” μ—¬λ¬ κ°€μ§€ λ©”μ†λ“κ°€ ν­λ„“κ² μ κ³µλλ”λ°, μ—¬κΈ°μ„ `Spring Data JPA` λ¥Ό ν™μ©ν•  λ•λ§λ‹¤ `EntityManager` λ¥Ό μ—°κ²°ν•  ν•„μ”κ°€ μ—†μ–΄μ§„λ‹¤.

> β… `EntityManager` λ„ λ°±κ·ΈλΌμ΄λ“μ—μ„ μ΄λ£¨μ–΄μ§€λ‹κΉ `JpaRepository` λ¥Ό `extends` λ΅ μƒμ†λ°›μ•„ μΈν„°νμ΄μ¤λ¥Ό μƒμ„±ν•κΈ°λ§ ν•λ©΄λκ³ , μΆ‹μ€ λ©”μ†λ“κ°€ μ•„μ£Ό λ§μ΄ μ κ³µλλ‹¤.

μ΄μ©ν•  μ μλ” μ—”ν„°ν‹°λ¥Ό μ„Έμ–΄λ³Όμλ„ μκ³ , `Batch` λ΅ μ‚­μ ν• μλ„ μκ³  `existById` κ°™μ€ κ²ƒμΌλ΅ νΉμ • `ID` λ¥Ό κ°€μ§„ μ—”ν„°ν‹°κ°€ μ΅΄μ¬ν•λ”μ§€ ν™•μΈν•  μλ„ μλ‹¤.
`findAll` μ„ μ…λ ¥ν•΄μ„ νΉμ • ν…μ΄λΈ”μ— μλ” λ¨λ“  μ—”ν„°ν‹°λ¥Ό μ°Ύμ„ μλ„ μλ‹¤.

μ„λ²„λ¥Ό λ‹¤μ‹ κ»λ‹¤κ°€ μΌλ³΄μ•„λ„ λ΅κ·Έκ°€ λ”±ν λ°”λ€λ” κ²ƒμ€ μ—†κ³ , λ™μ‘λ„ μ λ€λ΅ ν•λ” κ²ƒμ„ λ³Ό μ μλ‹¤.

#### μ •λ¦¬

`Spring JDBC => JPA => Spring Data JPA` κΉμ§€ μ­‰ μ‚΄ν΄λ³΄μ•λ”λ°, `Spring Data JPA` λ¥Ό μ“°λ©΄ JPAκ°€ μ •λ§ μ‰¬μ›μ§„λ‹¤. μΈν„°νμ΄μ¤λ¥Ό μƒμ„±ν•΄μ„ μƒμ†λ°›κΈ°λ§ ν•λ©΄, μ—”ν„°ν‹°λ¥Ό μ •μν•λ” μΌλ§ ν•λ©΄ λλ‹¤.
`JpaRepository` λ¥Ό μƒμ†λ°›μΌλ©΄μ„ `<μ—”ν„°ν‹°, Id>` λ§ μ§€μ •ν•΄μ£Όλ©΄ λλ‹¤.
