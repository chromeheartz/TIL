## Java Spring Framework Start

### 08. JPAì˜ ë§ˆë²• ì‚´í´ë³´ê¸°

---

### ğŸ“Œ JPAì˜ ë§ˆë²•

<img width="1089" alt="Image" src="https://github.com/user-attachments/assets/9f5bc649-fc4d-4ef5-a406-29fa21faa715" />

`Spring JDBC` ë¡œ í•˜ë©´ `SQL ì¿¼ë¦¬` ëŠ” ë§ì´ ì‘ì„±í–ˆì§€ë§Œ `java` ìì²´ì˜ ì½”ë“œëŠ” ì ì—ˆë‹¤. `JPA` ëŠ” ë‹¤ë¥¸ ì ‘ê·¼ë°©ì‹ì„ ì œê³µí•˜ê³  ì¿¼ë¦¬ëŠ” ì „í˜€ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ë˜ê³  ì—”í„°í‹°ë§Œ í…Œì´ë¸”ë¡œ ë§¤í•‘í•œë‹¤.
`course` ì—”í„°í‹°ë¥¼ ë§¤í•‘í–ˆì—ˆë‹¤.

`Course.java` íŒŒì¼ì„ í•œë²ˆ í™•ì¸í•´ë³´ì.
JPAë¥¼ ì‚¬ìš©í•´ì„œ ì‰½ê²Œ ë°ì´í„°ë¥¼ ì‚½ì…í•  ìˆ˜ ìˆì—ˆëŠ”ë° ì´ë•Œ í•„ìš”í•œ ê²ƒì´ `EntityManager` ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ì˜€ë‹¤.

#### EntityManager

`EntityManager` ëŠ” ì—”í„°í‹° ê´€ë¦¬ì— ì‚¬ìš©ëœë‹¤
í–‰ì„ ì‚½ì…í•˜ê±°ë‚˜ ì°¾ìœ¼ë ¤ëŠ” í•­ëª©ì„ ë¬´ì—‡ì´ë“ ì§€ ì°¾ì„ ìˆ˜ ìˆê³ , ì›í•˜ë©´ ì—”í„°í‹°ë¥¼ ì‚­ì œí•  ìˆ˜ë„ ìˆë‹¤.
`merge / find / remove` ë“± ì´ëŸ° ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•  ë•Œ ì¿¼ë¦¬ëŠ” ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ì—ˆë‹¤. ê·¸ëƒ¥ ì•Œë§ì€ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ”ê²ƒì—ë§Œ ì§‘ì¤‘í•˜ë©´ ëë‹¤.

í•˜ì§€ë§Œ ì „ì— ë³´ì•˜ë˜ê²ƒì²˜ëŸ¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ `ì¿¼ë¦¬` ê°€ ì‹¤í–‰ë˜ê³  ìˆëŠ”ê²ƒì„ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.

```
// code
	@Override
	public void run(String... args) throws Exception {
		repository.insert(new Course(1, "bibiboy", "developer"));
		repository.insert(new Course(2, "bibiboy2", "developer"));
		repository.insert(new Course(3, "bibiboy3", "developer"));

		repository.deleteById(1);

		System.out.println(repository.findById(2));

	}

// output
Hibernate: select c1_0.id,c1_0.author,c1_0.name from course c1_0 where c1_0.id=?
Hibernate: insert into course (author,name,id) values (?,?,?)
Hibernate: select c1_0.id,c1_0.author,c1_0.name from course c1_0 where c1_0.id=?
Hibernate: insert into course (author,name,id) values (?,?,?)
Hibernate: select c1_0.id,c1_0.author,c1_0.name from course c1_0 where c1_0.id=?
Hibernate: insert into course (author,name,id) values (?,?,?)
Hibernate: select c1_0.id,c1_0.author,c1_0.name from course c1_0 where c1_0.id=?
Hibernate: delete from course where id=?
Hibernate: select c1_0.id,c1_0.author,c1_0.name from course c1_0 where c1_0.id=?
Course [id=2, name=bibiboy2, author=developer]
```

ì¼ë‹¨ ì²˜ìŒìœ¼ë¡œ `íŠ¹ì • ID` ë¥¼ ê°€ì§„ í–‰ì´ ì—†ëŠ”ì§€ í™•ì¸í•˜ê³  ë‚˜ì„œì•¼ `insert` ë¥¼ ì§„í–‰í•œë‹¤.
`delete` ì˜ ê²½ìš°ì—ë„ `select` ë¡œ í™•ì¸ì„ í•œë²ˆ í•˜ê³  ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

ë§ˆì§€ë§‰ ì¿¼ë¦¬ëŠ” `findById` ì— ì˜í•´ ì‹¤í–‰ë˜ëŠ” `select` ì¸ë°, `id=2` ì— í•´ë‹¹ë˜ì–´ ì‹¤í–‰ë˜ê³  ìˆë‹¤.
`JPA` ë¥¼ í™œìš©í•  ë•ŒëŠ” ë’¤ì—ì„œ ì´ëŸ° ì¼ë“¤ì´ ì¼ì–´ë‚˜ê³  ìˆì§€ë§Œ, ìµœì¢…ì ìœ¼ë¡œ ì—¬ì „íˆ ì‹¤í–‰ë˜ëŠ”ê²ƒì€ `SQL ì¿¼ë¦¬` ì´ë‹¤.
