## Java Spring Framework Start

### 05. Spring JDBCë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„° ì‚½ì… ë° ì‚­ì œ

---

### ğŸ“Œ ë°ì´í„° ì‚½ì… ë° ì‚­ì œ

ê°™ì€ ì‘ì—…ì„ í•œë‹¤ë©´ `JDBC` ë³´ë‹¤ `Spring JDBC` ë¡œ ì‘ì—…í•˜ëŠ” ê²ƒì´ ê°„ë‹¨í•˜ë‹¤.
ì´ì œ íŠ¹ì • ê³¼ì •ì˜ ì„¸ë¶€í•­ëª©ì„ ì‚½ì…í•  ìˆ˜ ìˆê²Œ í•´ì•¼í•˜ëŠ”ë°, `Course course` ë¥¼ ì‚½ì…í•˜ê³  ì„¸ë¶€ í•­ëª©ì„ ì „ë‹¬í•˜ê³  ê·¸ ê°’ì„ ê°€ì ¸ì™€ `insert query` ë¥¼ ì‹¤í–‰í•´ë³´ì.

`Course` í´ë˜ìŠ¤ë¥¼ ìƒì„±í•´ì•¼ í•œë‹¤. í´ë˜ìŠ¤ë¥¼ ë§Œë“  ì´í›„ì— ëª‡ê°€ì§€ ë©”ì†Œë“œë¥¼ ìƒì„±í•˜ê³  `constructor` ë¥¼ ìƒì„±í• ê²ƒì´ë‹¤.

```java
// Course.java
package com.in28minutes.springboot.learn_jpa_and_hibernate_05.course;

public class Course {
	private long id;
	private String name;
	private String author;


	// constructor
	public Course() {

	}

	public Course(long id, String name, String author) {
		super();
		this.id = id;
		this.name = name;
		this.author = author;
	}

	// getters
	public long getId() {
		return id;
	}


	public String getName() {
		return name;
	}



	public String getAuthor() {
		return author;
	}


	// toString
	@Override
	public String toString() {
		return "Course [id=" + id + ", name=" + name + ", author=" + author + "]";
	}

}
```

`ì¸ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ì` ë¥¼ ìƒì„±í•œ ì´í›„ì— `ì¸ìˆ˜ê°€ ìˆëŠ” ìƒì„±ì` ë¥¼ ìƒì„±í•´ë†“ì•˜ë‹¤.
ì´ì œ í•„ë“œê°€ 3ê°œì¸ `Course Bean` ì´ ìƒê²¼ëŠ”ë°, ì¸ìˆ˜ê°€ ì—†ëŠ” ìƒì„±ì / ì¸ìˆ˜ê°€ ìˆëŠ” ìƒì„±ì / getters / toString ë©”ì†Œë“œ ê°€ ìˆë‹¤.

ì´ì œ ì´ê²ƒë“¤ì„ `CourseJdbcRepository` ì— ì „ë‹¬í•´ì•¼ í•œë‹¤.
`INSERT_QUERY` ì•ˆì— ë“¤ì–´ê°€ëŠ” `values` ë“¤ì€ í•˜ë“œì½”ë“œë¡œ ì‘ì„±í•˜ëŠ” ê°’ì´ ì•„ë‹ˆë¼ `Course` ë¡œ ê°€ì ¸ì™€ì•¼ í•˜ëŠ” ê°’ì´ë‹¤. ì–´ë–»ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ?

#### ê°’ ëŒ€ì‹  ë¬¼ìŒí‘œë¥¼ ì •ì˜

ì¿¼ë¦¬ì— ì´ë ‡ê²Œ `ë¬¼ìŒí‘œ` ë¥¼ ë„£ì–´ì£¼ì—ˆëŠ”ë°, ì—…ë°ì´íŠ¸ë¥¼ ì‹¤í–‰í•  ë•Œ ê°’ì„ ì „ë‹¬í•˜ë©´ ëœë‹¤.

```java
	private static String INSERT_QUERY =
			"""
				insert into course (id,name, author)
				values(?, ?, ?)
			""";

// insert method
	public void insert(Course course) {
		springJdbcTemplate.update(INSERT_QUERY, course.getId(), course.getName(), course.getAuthor());
	}
```

ê°ê° ë¬¼ìŒí‘œë“¤ì€ `getters` ì™€ ì§ì„ ì´ë£¨ê²Œ ë˜ëŠ”ê²ƒì´ë‹¤.

```java
@Override
public void run(String... args) throws Exception {
	repository.insert(new Course(1, "bibiboy", "developer"));
}
```

`CommandLineRunner` ì—ì„œ `insert` í•´ì¤„ ê°’ì„ ë„£ì–´ì£¼ê²Œë˜ë©´ ì„œë²„ë¥¼ ì¬ì‹œì‘í• ë•Œë§ˆë‹¤ ìƒˆ ë°ì´í„°ê°€ ë“¤ì–´ê°€ê²Œ ëœë‹¤.

```java
	private static String DELETE_QUERY =
			"""
				delete from course where id=?
			""";

public void deleteById(long id) {
	springJdbcTemplate.update(DELETE_QUERY, id);
}
```

idê°€ ë§ëŠ” í–‰ì„ ì‚­ì œí•˜ëŠ” `deleteById` ë„ ë§Œë“¤ì—ˆë‹¤.
