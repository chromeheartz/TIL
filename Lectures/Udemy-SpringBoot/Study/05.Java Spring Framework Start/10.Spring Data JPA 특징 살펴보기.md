## Java Spring Framework Start

### 10. Spring Data JPA íŠ¹ì§• ì‚´í´ë³´ê¸°

---

### ğŸ“Œ Spring Data JPA íŠ¹ì§• ë” ì‚´í´ë³´ê¸°

`SpringDataJpaRepository` ì— ëª‡ ê°€ì§€ë¥¼ ë” ì¶”ê°€í•´ë³´ì.

ğŸ“ `repository.findAll`
ê³¼ì •ì„ ì „ë¶€ ì°¾ê²Œ í•˜ê³  `sysout` ì„ ì…ë ¥í•œ ë‹¤ìŒ ë©ˆì·„ë‹¤ê°€ ì‹œì‘í•´ì„œ ë­ê°€ ì¶œë ¥ë˜ëŠ”ì§€ ë³´ì.
`System.out.println(repository.findAll());`

```java
// code
System.out.println(repository.findAll());

// output
[Course [id=2, name=bibiboy2, author=developer], Course [id=3, name=bibiboy3, author=developer]]
```

ì¶œë ¥ëœ ë§ˆì§€ë§‰ ê³¼ì •ì´ 2ê°œì˜€ëŠ”ë°, `SELECT * FROM COURSE` ë¼ëŠ” ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•˜ê³  ìˆëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ğŸ“ `repository.count()`
ì›í•œë‹¤ë©´ `repository.count()` ê°™ì€ê²ƒì„ ì‚¬ìš©í•´ì„œ ì—”í„°í‹°ê°€ ëª‡ ê°œ ìˆëŠ”ì§€ ì…€ìˆ˜ë„ ìˆë‹¤.
`SELECT COUNT(*)` ì™€ ë¹„ìŠ·í•˜ë‹¤.

#### ì»¤ìŠ¤í…€ ë©”ì†Œë“œ

`SpringDataJpaRepository` ì—ì„œ ë©‹ì§„ ê¸°ëŠ¥ì€ `ì»¤ìŠ¤í…€ ë©”ì†Œë“œ` ë¥¼ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì´ë‹¤.
í˜„ì¬ `JpaRepository` ê°€ ì •ì˜í•˜ëŠ” ë©”ì†Œë“œê°€ ëª‡ ê°€ì§€ ìˆëŠ”ë°, ê·¸ê²ƒë“¤ì„ í™œìš©í•˜ë©´ì„œ ì»¤ìŠ¤í…€ ë©”ì†Œë“œë„ ì •ì˜ê°€ ëœë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ `Course` ë¥¼ ë³´ë©´ `author` ê°€ ìˆëŠ”ë°, `author` ë¡œ ê²€ìƒ‰í•˜ê³  ì‹¶ë‹¤ë©´ ê·¸ëŸ° ìƒí™©ì—ì„œëŠ” âœ… `ëª…ëª… ê·œì¹™` ì„ ë”°ë¼ì•¼ í•œë‹¤.

> ğŸ“ `ëª…ëª… ê·œì¹™` : ëª…ëª… ê·œì¹™ì€ `findBy` ë‹¤ìŒì— `í´ë˜ìŠ¤ì˜ ì†ì„± ì´ë¦„` ì´ ë‚˜ì˜¨ë‹¤.
> ë”°ë¼ì„œ í˜„ì¬ ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ë©´ `findByAuthor` ê°€ ë  ìˆ˜ ìˆë‹¤.
> â­ï¸`ì¸í„°í˜ì´ìŠ¤ì— ë©”ì†Œë“œë¥¼ ì •ì˜` í•˜ê³ , ì…ë ¥ê°’ìœ¼ë¡œ `author` ë¥¼ ë³´ë‚´ì£¼ë©´ ëœë‹¤.

```java
// CourseSpringDataJpaRepository.java
public interface CourseSpringDataJpaRepository extends JpaRepository<Course, Long> {

	List<Course> findByAuthor(String author);

}


// CourseCommandLineRunner.java
System.out.println(repository.findByAuthor("developer"));

// output console
===== findByAuthor ======
Hibernate: select c1_0.id,c1_0.author,c1_0.name from course c1_0 where c1_0.author=?
[Course [id=2, name=bibiboy2, author=developer], Course [id=3, name=bibiboy3, author=developer]]
```

ì¸í„°í˜ì´ìŠ¤ì— ê¼­ ì •ì˜ë¥¼ í•˜ê³  í•´ì•¼í•œë‹¤.
`ì¿¼ë¦¬ì˜ ê²°ê³¼` ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. í–‰ 2ê°œê°€ ì œëŒ€ë¡œ ì¶œë ¥ë˜ê³  ìˆë‹¤.
`name` ë„ ë§Œë“¤ì–´ë³´ì•˜ëŠ”ë° `bibiboy` ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ í™•ì¸í•´ë³´ë©´ ì•ˆë‚˜ì˜¨ë‹¤. ê·¸ ì´ìœ ëŠ” ì‚­ì œí–ˆê¸° ëŒ€ë¬¸.
