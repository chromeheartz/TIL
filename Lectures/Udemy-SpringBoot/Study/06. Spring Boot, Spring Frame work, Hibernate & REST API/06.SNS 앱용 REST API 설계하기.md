## Spring Boot, Spring Frame work, Hibernate / REST API

### 06. SNS 앱용 REST API 설계하기

---

### 📌 SNS 앱용 REST API

SNS 애플리케이션에는 두 가지 `주요 리소스` 가 있다.
`사용자 / 사용자가 생성하는 게시물`

사용자와 관련해서는 `ID / 이름 / 생일 ` 등이 있을테고 게시물과 관련해서는 `ID / 상세 설명` 등이 있을 것이다. REST API의 일부로 리소스에 대한 작업을 수행해야 할텐데,
사용자를 지우고, 업데이트, 생성하고 사용자가 올린 게시물을 삭제하거나 업데이트 생성할 수 있어야 한다.

#### REST API를 사용해 어떻게 리소스에 대한 작업을 수행할 수 있을까?

📍 `요청 메소드` 를 사용하면 된다.
앞서 브라우저에 URL을 입력하고 이 때 사용한 요청 메소드가 `GET` 메소드 였다.

코드에서 사용했던건 `GetMapping` 인데 브라우저에 URL을 입력하면 결국 GET 요청을 보내는 것이다. GET 요청 메소드는 보통 특정 리소스에서 상세 정보를 검색할 때 사용한다.

> 새 리소스를 만들 때 ⭐️ `POST` 메소드를 사용하자.
> 기존 리소스를 업데이트할 때 / 기존 사용자의 상세 정보를 업데이트할 때 ⭐️ `PUT`
> 기존 리소스의 일부만 업데이트할 때 ⭐️ `PATCH`
> 삭제하고 싶을 때 ⭐️ `DELETE`

REST API를 연결하는 것은 결국 리소스와 리소스에 행할 수 있는 작업에 관해 이야기하는 셈이다.

#### 📍 설계

```
// 모든 사용자 정보 검색
GET /users

// 사용자 생성
POST /users

// 사용자 한명의 정보만 검색
GET /users/{id}

// 사용자 삭제
DELETE /users/{id}
```

여기서 기억해야 할것은 게시물은 사용자와 연결되어 있다. 그래서 특정 사용자가 올린 모든 게시물을 검색하는데는 `/users/{사용자_id}/posts` URL을 활용하도록 하자.
그러면 특정 사용자가 올린 모든 게시물을 검색할 수 있다.

이런 맥락으로 게시물도 설계할것이다.

> ✅ `/users` 같은 `복수형` 을 사용하는 이유는 훨씬 더 읽고 이해하기 쉽기 때문이다.
> 복수형을 사용해서 모든 사용자 정보를 얻는다는 표현이 사용자 한명을 나타내는 `단수형에서 모든 정보` 를 얻는다는 표현보다는 직관적이기 때문이다.
