## Spring Boot, Spring Frame work, Hibernate / REST API

### 09. User Resource => POST ë©”ì†Œë“œ êµ¬í˜„í•˜ê¸°

---

### ğŸ“Œ User Resource / POST

ëª¨ë“  ì‚¬ìš©ìì™€ íŠ¹ì • ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” `REST API` ë¥¼ êµ¬í˜„í–ˆë‹¤.
ì´ë²ˆì— ì‚¬ìš©ìë¥¼ ì¶”ê°€í•˜ëŠ” REST APIë¥¼ ë§Œë“¤ì–´ë³´ì.

`POST /users` ë¡œ ìš”ì²­ì„ ë³´ë‚¼ ë•Œ ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ í•¨ê»˜ ë³´ë‚´ì•¼ í•œë‹¤.

> ê²°êµ­ `POST /users` ë¥¼ í•´ì•¼ í•˜ë‹ˆê¹Œ `@PostMapping` ì„ ì¶”ê°€í•´ì¤€ë‹¤.

í•´ë‹¹ ë©”ì†Œë“œì—ì„œëŠ” íŠ¹ì • ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì¡°íšŒí–ˆì„ ë•Œ ë°›ì€ ê°’ì²˜ëŸ¼ ë¹„ìŠ·í•œ ì •ë³´ë¥¼ ë³´ë‚´ê³  ì‹¶ë‹¤.
ğŸ“ ì—¬ê¸°ì„œ `id` ê¹Œì§€ëŠ” ë³´ë‚¼ í•„ìš”ê°€ ì—†ë‹¤ ì•±ì´ ìì²´ì ìœ¼ë¡œ ìƒì„±í•¨.

ì •ë³´ë¥¼ ë³´ë‚¼ ë•Œ `request body` ì— ë‹´ì•„ë³´ë‚´ëŠ”ë° ê·¸ë ‡ê²Œ ë³´ë‚´ë ¤ë©´ â­ï¸ `@RequestBody` ì–´ë…¸í…Œì´ì…˜ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.

> âœ… @RequestBody
> ì´ ì–´ë…¸í…Œì´ì…˜ì€ ë©”ì†Œë“œ ì¸ìë¥¼ ì›¹ ìš”ì²­ì˜ ë³¸ë¬¸ê³¼ ë§¤í•‘í•˜ë¼ëŠ” ì§€ì‹œì´ë‹¤.

ì¸ìë¡œ Userë¥¼ ë°›ìœ¼ë©´ ì¼ë‹¨ ìƒì„±ì„ í•´ì•¼í•˜ëŠ”ë°, `save()` ë¼ëŠ” ë©”ì†Œë“œë¥¼ ë§Œë“¤ì–´ë³´ì.
ì‚¬ìš©ìë¥¼ ìƒì„±í•  ë•Œ ë™ì ìœ¼ë¡œ ì•„ì´ë””ë¥¼ í• ë‹¹í•´ì£¼ì–´ì•¼ í•˜ëŠ”ë°, ë³€ìˆ˜ë¥¼ í•˜ë‚˜ ìƒì„±í•´ì„œ `ì¦ê° ì—°ì‚°ì` ë¥¼ ì „ìœ„ì— ë¶™ì—¬ì„œ ì‚¬ìš©í•´ì¤€ë‹¤.

```java
// UserDaoService.java
	private static int usersCount = 0;

	static {
		users.add(new User(++usersCount, "Bibi", LocalDate.now().minusYears(30)));
		users.add(new User(++usersCount, "Aiai", LocalDate.now().minusYears(25)));
		users.add(new User(++usersCount, "Cici", LocalDate.now().minusYears(20)));
	}

	// public User save(User user) {}
	public User save(User user) {
		user.setId(++usersCount);
		users.add(user);
		return user;
	}

// UserResource.java
	// POST /users
	@PostMapping("/users")
	public void createUser(@RequestBody User user) {
		service.save(user);
	}
```

ì´ë ‡ê²Œ `save` ëŠ” êµ¬í˜„ì´ ë˜ê³ , ì´í›„ì—ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ìƒì„±í•˜ëŠ” `sequnce` ë¥¼ ì´ìš©í• ê²ƒì´ë‹¤.
ì´ì œ ëŒì•„ì™€ì„œ `UserResource.java` ì—ì„œ `service.save()` ë¥¼ í˜¸ì¶œí•˜ë©´ ëœë‹¤.

#### TEST

ì´ë ‡ê²Œ í•˜ê³  í…ŒìŠ¤íŠ¸ë¥¼ í•˜ë ¤ê³ í•˜ëŠ”ë° ë¸Œë¼ìš°ì €ì—ì„œ `POST` ìš”ì²­ì„ ë°”ë¡œ ë³´ë‚¼ìˆ˜ëŠ” ì—†ë‹¤.
`REST API` í´ë¼ì´ì–¸íŠ¸ê°€ í•„ìš”í•œë°, ê°„ë‹¨í•œ í´ë¼ì´ì–¸íŠ¸ë¡œ `Talend API Tester` ê°€ ìˆë‹¤.
ì´ í…ŒìŠ¤í„°ëŠ” `HTTP / REST API` ë¥¼ ì‰½ê²Œ í˜¸ì¶œí•˜ê³  íŒŒì•…í•´ì„œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‹¤.

![Image](https://github.com/user-attachments/assets/ecb13db4-1c76-4855-9bce-fc96d3123f76)

![Image](https://github.com/user-attachments/assets/caa7f7c2-b820-4037-b07d-d589065d5f68)

`POST` ë¡œ ìš”ì²­ì„ ë³´ë‚¸ ì´í›„ì— ì‚¬ìš©ìë“¤ì„ ì¡°íšŒí•´ë³´ë©´ ì¶”ê°€í•œê²ƒì´ ì œëŒ€ë¡œ ë“¤ì–´ì˜¤ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.
