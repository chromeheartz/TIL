## Spring Boot, Spring Frame work, Hibernate / REST API

### 22. REST API ì •ì  í•„í„°ë§ êµ¬í˜„í•˜ê¸°

---

### ğŸ“Œ ì •ì  í•„í„°ë§

`ì§ë ¬í™”` ë€ ë¬´ì—‡ì¼ê¹Œ? ì´ëŠ” ê°ì²´ë¥¼ ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „í™˜í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ì´ë‹¤.
ê°€ë ¹ `EntityModal` ì„ ë°˜í™˜í•˜ê±°ë‚˜ `List<User>` ë¥¼ ë°˜í™˜í•œë‹¤ê³  ê°€ì •í•´ë³´ì. ì´ê²ƒì„ `JSON / XML` ë¡œ ì „í™˜í•˜ëŠ” ì‘ì—…ì„ ì§ë ¬í™”ë¼ê³  í•œë‹¤.

í˜„ì¬ ì¸ê¸° ë§ì€ `JSON ì§ë ¬í™” í”„ë ˆì„ì›Œí¬` ì¤‘ í•˜ë‚˜ëŠ” `Jackson` ì´ë‹¤.

```java
	public User(Integer id, String name, LocalDate birthDate) {
		super();
		this.id = id;
		this.name = name;
		this.birthDate = birthDate;
	}
```

`get` ìš”ì²­ìœ¼ë¡œ ì‚¬ìš©ìë¥¼ ì¡°íšŒí•  ë•Œ í•´ë‹¹ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ë‚´ë ¤ì˜¤ëŠ”ë°, íŠ¹ì • ìƒí™©ì—ì„œëŠ” ì´ì™€ ê°™ì´ ì •í™•í•œ êµ¬ì¡°ë¥¼ ë°˜í™˜í•˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œë„ ìˆë‹¤.
`Jackson` í”„ë ˆì„ì›Œí¬ê°€ ë°˜í™˜í•˜ëŠ” `REST API` ì‘ë‹µì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•´ì•¼ í•˜ê¸°ë„ í•œë‹¤.

#### ì‘ë‹µì˜ í•„ë“œ ì´ë¦„ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§• í•˜ëŠ” ë°©ë²•

`@JsonProperty` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. nameëŒ€ì‹ ì— ë‹¤ë¥¸ ê²ƒì„ ë°˜í™˜í•œë‹¤ê³  ê°€ì •.
ì´ëŠ” ë¹„ì–´ ìˆëŠ” ê¸°ë³¸ê°’ì€ í•„ë“œ ì´ë¦„ì´ ìˆ˜ì • ì—†ì´ í”„ë¡œí¼í‹° ì´ë¦„ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒì„ ê°€ë¦¬í‚¤ì§€ë§Œ ë‹¤ë¥¸ ì´ë¦„ì„ ì§€ì •í•˜ê¸° ìœ„í•´ ë¹„ì–´ìˆì§€ ì•Šì€ ê°’ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.

```java
@Size(min=2, message="Name should have atleast 2 characters")
@JsonProperty("user_name")
private String name;
```

ì´ë ‡ê²Œ ì–´ë…¸í…Œì´ì…˜ì„ ë‹¬ì•„ë†“ìœ¼ë©´ ì „ì²´ìœ ì € ì¡°íšŒë¥¼ í•  ë•Œ nameì´ `user_name` ìœ¼ë¡œ ë‚´ë ¤ì˜¨ë‹¤.
`JsonProperty` ëŠ” ì‘ë‹µì˜ ì†ì„±ê³¼ ìš”ì†Œ ì´ë¦„ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•˜ëŠ”ë° ë¬´ì²™ ìœ ìš©í•˜ë‹¤.
ì‘ë‹µì—ì„œ í•  ìˆ˜ ìˆëŠ” ë˜ ë‹¤ë¥¸ ì‘ì—…ì€ ì„ íƒëœ í•„ë“œë§Œ ë°˜í™˜í•˜ëŠ” ê²ƒì´ë‹¤

#### í•„í„°ë§

ì˜ˆë¥¼ ë“¤ì–´, ë¹ˆì— ì •ì˜ëœ ë¹„ë°€ë²ˆí˜¸ê°€ ìˆëŠ”ë°, ì‘ë‹µì—ëŠ” ë³´ë‚´ê³  ì‹¶ì§€ ì•Šë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?
`field1, 2, 3` ì´ë ‡ê²Œ 3ê°œê°€ ìˆëŠ”ë° í•­ìƒ `2` ë¥¼ ì œì™¸í•œë‹¤ê³  ê°€ì •í•´ë³´ì.
`REST API` ì™€ ê´€ê³„ì—†ì´ í•­ìƒ 2ë¥¼ ì°¨ë‹¨í•˜ê±°ë‚˜ í•„í„°ë§í•´ì•¼ í•˜ëŠ”ë° ì´ë¥¼ â­ï¸ `ì •ì  í•„í„°ë§` ì´ë¼ê³  í•œë‹¤.

> â­ï¸ `ë™ì  í•„í„°ë§` - ì‘ë‹µì˜ ì¼ë¶€ë¡œ í•„ë“œë¥¼ ì „ì†¡í• ì§€ ë™ì ìœ¼ë¡œ ê²°ì •í•˜ëŠ”ê²ƒ

ì´ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ `FilteringController` ë¥¼ ë§Œë“¤ì–´ì„œ ì§„í–‰í•´ë³´ì.

```java
@RestController
public class FilteringController {

	@GetMapping("/filtering")
	public SomeBean filtering() {
		return new SomeBean("value1", "value2", "value3");
	}

    @GetMapping("/filtering-list")
	public List<SomeBean> filteringList() {
		return Arrays.asList(new SomeBean("value1", "value2", "value3"), new SomeBean("value4", "value5", "value6"));
	}

}
```

`SomeBean` ì€ `field1, field2, field3` ê°’ì´ ìˆê³ , ìƒì„±ì, gettersë§Œ ê°„ë‹¨íˆ ì‘ì—….
ì´í›„ `localhost:8080/filtering` ìœ¼ë¡œ `get` ìš”ì²­ì„ ë³´ë‚´ë©´ ì˜ ë‚´ë ¤ì˜¤ëŠ”ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

#### ì •ì  í•„í„°ë§ì€ ì–´ë–»ê²Œ í• ê¹Œ?

`field2` ë¥¼ ë°˜í™˜í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ê°€ì •ì„ í•˜ê²Œ ë˜ë©´ â­ï¸ `@JsonIgnore` ì–´ë…¸í…Œì´ì…˜ì„ ì…ë ¥í•´ì£¼ë©´ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

<img width="1096" alt="Image" src="https://github.com/user-attachments/assets/0cdf3cef-49e9-4032-8cb1-f97e82904271" />

`list` ë¡œ ë°˜í™˜í•˜ê²Œ ë˜ë”ë¼ë„ í‘œì‹œê°€ ì•ˆëœë‹¤.

> ğŸ“ `@JsonIgnore` ì™¸ì—ë„ ë¹ˆì— `@JsonIgnoreProperties` ë¥¼ ì •ì˜í•  ìˆ˜ë„ ìˆë‹¤.
> ì´ ì–´ë…¸í…Œì´ì…˜ì€ í´ë˜ìŠ¤ì— ì§€ì •í•´ì•¼ í•˜ëŠ”ë° í”„ë¡œí¼í‹° ì´ë¦„ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.

```java
@JsonIgnoreProperties("field1")
public class SomeBean {
	private String field1;
	@JsonIgnore
	private String field2;
	private String field3;
	public SomeBean(String field1, String field2, String field3) {
		super();
		this.field1 = field1;
		this.field2 = field2;
		this.field3 = field3;
	}
	public String getField1() {
		return field1;
	}
	public String getField2() {
		return field2;
	}
	public String getField3() {
		return field3;
	}

}
```

<img width="788" alt="Image" src="https://github.com/user-attachments/assets/cf049665-1c36-4ccc-91c1-3e1209b35c61" />

> â­ï¸ `@JsonIgnoreProperties` ë³´ë‹¤ëŠ” `@JsonIgnore` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ íŠ¹ì •í•„ë“œì— ì¶”ê°€ë˜ê³ , ì´í›„ í•„ë“œ ì´ë¦„ì„ ë³€ê²½í•˜ë”ë¼ë„ ì‹¤ì œë¡œ ë‹¤ë¥¸ ê³³ì—ì„œ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤.
